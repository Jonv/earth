# Logfile created on Wed Jan 17 23:52:07 EST 2007 by logger.rb/1.5.2.7
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: table "mixins" does not exist
: DROP TABLE mixins[0m
  [4;35;1mSQL (0.066493)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.037094)[0m   [0;1mCREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.002953)[0m   [0mINSERT INTO schema_info (version) VALUES(0)[0m
  [4;36;1mSQL (0.012725)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.006782)[0m   [0mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003373)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mNestedSet Load (0.003565)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003617)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mNestedSetWithStringScope Load (0.005166)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND id > 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mNestedSetWithStringScope Load (0.002149)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.003072)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND (lft > 1) and (rgt < 20)) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001924)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001708)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002539)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001832)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002938)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002602)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001392)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002271)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001534)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003167)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002491)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003561)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003068)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002484)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002212)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001935)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001402)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001979)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002211)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001719)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002378)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001994)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001470)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001558)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002570)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001974)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002254)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002796)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001953)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002750)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002216)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001628)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001841)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002587)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001574)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002772)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003386)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002023)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002293)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002247)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002014)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001491)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.001004)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001158)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003755)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.009752)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mNestedSetWithSymbolScope Create (0.001283)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:00', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-17 23:57:00')[0m
  [4;36;1mSQL (0.001230)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithSymbolScope Create (0.001512)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:00', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-17 23:57:00')[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000411)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Update (0.002851)[0m   [0mUPDATE mixins SET lft = lft + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002611)[0m   [0;1mUPDATE mixins SET rgt = rgt + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000536)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Update (0.002119)[0m   [0mUPDATE mixins SET lft = lft + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003003)[0m   [0;1mUPDATE mixins SET rgt = rgt + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000644)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002767)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000755)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000890)[0m   [0mBEGIN[0m
  [4;36;1mPK and serial sequence (0.005903)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mNestedSetWithStringScope Create (0.001238)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:00', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-17 23:57:00')[0m
  [4;36;1mSQL (0.000664)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Update (0.002692)[0m   [0mUPDATE mixins SET parent_id = 4013 WHERE (id = 4013) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001471)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001741)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000900)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000430)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Create (0.000968)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:00', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-17 23:57:00')[0m
  [4;35;1mSQL (0.000903)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Load (0.003496)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002418)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002116)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002497)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001623)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000518)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001714)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001615)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001283)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002063)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000756)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000662)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002708)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002029)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSet Load (0.001538)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.001841)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001880)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002134)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001791)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003665)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002298)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002076)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002192)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003244)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001986)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003232)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002389)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001816)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002107)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002807)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000875)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.003459)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.002520)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001690)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000763)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000393)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001516)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001986)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001745)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001713)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002104)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001903)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001672)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002942)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001692)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002811)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001713)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001373)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001521)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000772)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001601)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002050)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001570)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003027)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001715)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002645)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002157)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001687)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001572)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001950)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002796)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001687)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001863)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000513)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000448)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001702)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000619)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mMixin Load (0.002097)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) LIMIT 1[0m
  [4;36;1mMixin Load (0.002041)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.001908)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Load (0.001687)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Update (0.002130)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-17 23:57:01', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;36;1mNestedSet Update (0.002218)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-17 23:57:01', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;35;1mSQL (0.000723)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001592)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002432)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002981)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY rgt [0m
  [4;35;1mSQL (0.000826)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000656)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001796)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000404)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.003243)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001453)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001891)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002265)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001597)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001511)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001302)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003728)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003930)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001377)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001667)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002033)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001275)[0m   [0;1m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003176)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002123)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001953)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002629)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001538)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001172)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002057)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001900)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001470)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001517)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001530)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000866)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002838)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003622)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001878)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001560)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001869)[0m   [0m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002163)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002215)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002557)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001549)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001224)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001794)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002281)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001519)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001110)[0m   [0;1m DELETE FROM mixins
 WHERE id = 103
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003253)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002070)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003257)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001829)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001999)[0m   [0mSELECT * FROM mixins WHERE (id > 104 and id < 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003737)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mMixin Load (0.003276)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 6)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001742)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002117)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000384)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002703)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001732)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002469)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001702)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.006871)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003361)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001201)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002599)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002641)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001711)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001968)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001204)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001999)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002338)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002347)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002535)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001582)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001962)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000883)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003307)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002191)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001933)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001772)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000910)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001916)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002401)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001514)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001131)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002834)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002162)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001737)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002217)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001520)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002221)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001236)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002194)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002502)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002116)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001510)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001176)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002977)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002262)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002245)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001654)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001644)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002598)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001419)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002885)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001848)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002018)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001852)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001155)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003061)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001849)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001882)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001174)[0m   [0m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002670)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002420)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002038)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002662)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001574)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001744)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001506)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001820)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002762)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002066)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001749)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002946)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001347)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002378)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001629)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002432)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001626)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002319)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001154)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001792)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002213)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001457)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002806)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001457)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001665)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003114)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001230)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001247)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002109)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001957)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001179)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001805)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002252)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000937)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002556)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002213)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001893)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001618)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001532)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002711)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003259)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003588)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001883)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001663)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001425)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001846)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002604)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001644)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001769)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001521)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002198)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002998)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001504)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001218)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002076)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003726)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001630)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001724)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001141)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002331)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002604)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002279)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001546)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000961)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002572)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003235)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001989)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001835)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002986)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001381)[0m   [0m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002058)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003300)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001495)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001473)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000801)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003118)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002472)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001538)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001404)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002271)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003761)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.006040)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001694)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001011)[0m   [0m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001963)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002776)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001255)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002075)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000910)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001812)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002960)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001542)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001716)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.039606)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001315)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002538)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003178)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001547)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001713)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001606)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001986)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002345)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001932)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001893)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002338)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002079)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003709)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001479)[0m   [0m DELETE FROM mixins
 WHERE id = 4001
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003489)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002785)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.001711)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000478)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000518)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001946)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002983)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mMixin Load (0.001705)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 20)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001484)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003274)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002119)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001409)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002709)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001614)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001783)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001504)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001670)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002872)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001583)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002222)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002472)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001745)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002974)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002402)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002287)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001432)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002001)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001657)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001816)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003050)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002502)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001929)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002222)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001869)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001426)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002254)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001944)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002365)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001758)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002472)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001733)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001688)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001936)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001731)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003174)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001792)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001920)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001841)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003106)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002190)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002037)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001834)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001747)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002106)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003052)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002873)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002251)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001862)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002638)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002413)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.001368)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000463)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001716)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000479)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000348)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000960)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000439)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001925)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003106)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.001172)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.003955)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.002010)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 20)) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002512)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002676)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001716)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003256)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001636)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001508)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001719)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002092)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001997)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002314)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000918)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Create (0.000980)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:02', 1, 'NestedSetWithStringScope', 45, NULL, NULL, 2, '2007-01-17 23:57:02')[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Update (0.001707)[0m   [0mUPDATE mixins SET "created_at" = '2007-01-17 23:57:02', "root_id" = 45, "lft" = 1, "rgt" = 2, "pos" = NULL, "parent_id" = NULL, "updated_at" = '2007-01-17 23:57:02', "type" = 'NestedSetWithStringScope' WHERE id = 4015[0m
  [4;36;1mNestedSetWithStringScope Load (0.001906)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002257)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001769)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003437)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001686)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003625)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000755)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001881)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000857)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000880)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000652)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001778)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001499)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003360)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001948)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001705)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001494)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002380)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002212)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002233)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002264)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003308)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001497)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002279)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001757)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000838)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001633)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001955)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001745)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001207)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000406)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002168)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001927)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001871)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001737)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.004860)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002241)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001824)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002298)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003575)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001554)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003520)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002040)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001021)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000606)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002325)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001647)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002040)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002163)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002187)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002504)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002067)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001972)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.004236)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002681)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002282)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002106)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001670)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001665)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000508)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.003186)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001349)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001797)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000773)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Create (0.000980)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;35;1mSQL (0.000550)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Load (0.002190)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000909)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000650)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001989)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001482)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001230)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001376)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002261)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001808)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002510)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002272)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000874)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000481)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000630)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.004303)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.007669)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mCategory Create (0.002020)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.001617)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.000582)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001220)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;36;1mSQL (0.001113)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.001663)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.001621)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-17 23:57:03', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-17 23:57:03')[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002095)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000907)[0m   [0;1mROLLBACK[0m
  [4;35;1mNestedSet Load (0.002668)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002046)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001852)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001466)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002599)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001323)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002087)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001890)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001895)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001419)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003100)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001829)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001761)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003141)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002279)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002165)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002657)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002987)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002192)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002505)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001772)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002969)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.011677)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002002)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002336)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001689)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001844)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002616)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003047)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002311)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003149)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001680)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001799)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.013881)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001723)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001886)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002245)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002815)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002237)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001999)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002060)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001758)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001998)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002306)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003013)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001654)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001613)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003253)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001485)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001334)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001351)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001627)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002640)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.046070)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003982)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001717)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.006228)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002369)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003444)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002329)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001632)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002199)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002403)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002578)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002128)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001918)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001973)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002278)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002037)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002542)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002559)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002036)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002121)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001786)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001753)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002409)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001662)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001683)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001348)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001513)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001655)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001760)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002581)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001737)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002132)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002647)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002449)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002021)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002702)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001411)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002387)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002450)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002448)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002030)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001818)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001641)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.013193)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002502)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002857)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002719)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001730)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001973)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001483)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001926)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001380)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001825)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002005)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003375)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002105)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001442)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001708)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002389)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002177)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001450)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001598)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003945)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001930)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001425)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002732)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003035)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001958)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001975)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001926)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003181)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001866)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001482)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002591)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001718)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002473)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002217)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001699)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003137)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002043)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001702)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002706)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001885)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001722)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001446)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.017941)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021269)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.008356)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002511)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000328)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004463)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mNestedSet Load (0.004612)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.002702)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.001520)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.001759)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.003385)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Load (0.001348)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Update (0.001966)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:03:07', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;36;1mNestedSet Update (0.002140)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:03:07', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;35;1mNestedSet Load (0.001677)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000449)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005051)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mNestedSetWithStringScope Load (0.002919)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND id > 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002830)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mMixin Load (0.002134)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft > 1) and (rgt < 20)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001716)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002103)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001824)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002165)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002386)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002229)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002347)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001705)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001788)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001862)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003252)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001657)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002223)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002505)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001911)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001798)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002543)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001704)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002107)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001787)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001434)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001982)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001384)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001810)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001808)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002627)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003215)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001842)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001876)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001675)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001682)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002438)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000714)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000414)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.003481)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002163)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003070)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001511)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001904)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002602)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002569)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001555)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002837)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002998)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000471)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000455)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003048)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006133)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;36;1mNestedSetWithSymbolScope Create (0.001173)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:08', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-18 00:03:08')[0m
  [4;35;1mSQL (0.002057)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithSymbolScope Create (0.001951)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:08', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-18 00:03:08')[0m
  [4;35;1mSQL (0.000630)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000404)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000654)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Update (0.002394)[0m   [0;1mUPDATE mixins SET lft = lft + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002480)[0m   [0mUPDATE mixins SET rgt = rgt + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000938)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000409)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Update (0.003121)[0m   [0;1mUPDATE mixins SET lft = lft + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002976)[0m   [0mUPDATE mixins SET rgt = rgt + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.001639)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000524)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001805)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001349)[0m   [0;1mBEGIN[0m
  [4;35;1mPK and serial sequence (0.008598)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;36;1mNestedSetWithStringScope Create (0.001203)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:08', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:03:08')[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Update (0.003245)[0m   [0;1mUPDATE mixins SET parent_id = 4013 WHERE (id = 4013) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002123)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002897)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000562)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Create (0.000985)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:08', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:03:08')[0m
  [4;36;1mSQL (0.000964)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Load (0.002490)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002302)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001650)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001727)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002103)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.001305)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000440)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002352)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000483)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000691)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001753)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003242)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000949)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001875)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001854)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSet Load (0.002059)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.001675)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001388)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002493)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002257)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001777)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001818)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003031)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001562)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001830)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002185)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002358)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002243)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002186)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002231)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001485)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.001286)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000949)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002079)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.002091)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001760)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001778)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001752)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002079)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001829)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002952)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002423)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002960)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001561)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001708)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001406)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001266)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001892)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002014)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002682)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000796)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001221)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002066)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002130)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002529)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003223)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001870)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002491)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001950)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002375)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001362)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002290)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002427)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001654)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000772)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000666)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001622)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000551)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001155)[0m   [0;1mBEGIN[0m
  [4;35;1mMixin Load (0.002319)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) LIMIT 1[0m
  [4;36;1mMixin Load (0.001809)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.001872)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Load (0.001813)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Update (0.001529)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:03:08', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;36;1mNestedSet Update (0.001589)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:03:08', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;35;1mMixin Load (0.003091)[0m   [0mSELECT * FROM mixins WHERE (root_id IS NULL and parent_id = 3001) [0m
  [4;36;1mMixin Load (0.001526)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3003) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.002154)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3003) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Update (0.002975)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3002, "updated_at" = '2007-01-18 00:03:08', "type" = 'NestedSet' WHERE id = 3003[0m
  [4;35;1mNestedSet Update (0.001642)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3002, "updated_at" = '2007-01-18 00:03:08', "type" = 'NestedSet' WHERE id = 3003[0m
  [4;36;1mMixin Load (0.001788)[0m   [0;1mSELECT * FROM mixins WHERE (root_id IS NULL and parent_id = 3001) [0m
  [4;35;1mNestedSet Load (0.001587)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.000000)[0m   [0;1mPGError: ERROR: syntax error at or near ")" at character 56
: SELECT * FROM mixins WHERE (root_id IS NULL AND (lft > ) and (rgt < )) [0m
  [4;35;1mSQL (0.001348)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002930)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002651)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY rgt [0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001538)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.020658)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42 and parent_id = 4001) [0m
  [4;35;1mMixin Load (0.002983)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42 AND (lft BETWEEN 1 and 20)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002166)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002915)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001372)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001499)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001512)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001173)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002788)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.004764)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002310)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001477)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001278)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001308)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002839)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003110)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001793)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001221)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002220)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001496)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002066)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001999)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001402)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001494)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001190)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003391)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002293)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002227)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002070)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002601)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002124)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002721)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.001515)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42 AND (lft BETWEEN 1 and 10)) [0m
  [4;35;1mMixin Load (0.001885)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42 and parent_id = 4001) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002354)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001846)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002190)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002066)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001509)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002749)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003571)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003247)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000649)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002855)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000530)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000843)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002509)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001490)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002526)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002409)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001906)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001147)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003275)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001856)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002468)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001886)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001406)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001132)[0m   [0;1m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;35;1mNestedSetWithStringScope Update (0.004315)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003269)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002163)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001259)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001279)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001361)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002390)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002930)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001743)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001238)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002371)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000908)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002764)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003687)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001312)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001125)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000767)[0m   [0m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002600)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002383)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003053)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001958)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000839)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002054)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002996)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001692)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001220)[0m   [0;1m DELETE FROM mixins
 WHERE id = 103
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001947)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003178)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002016)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001850)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001456)[0m   [0mSELECT * FROM mixins WHERE (id > 104 and id < 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001357)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mMixin Load (0.001981)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 6)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001975)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001773)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000769)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000836)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002909)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001506)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002680)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001810)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001571)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001553)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000893)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002614)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003460)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001724)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001542)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001626)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001190)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002670)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002638)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001309)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001310)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001443)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001874)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002499)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002121)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002691)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001511)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000979)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003131)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003007)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001231)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001397)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002215)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001907)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002116)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002412)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001873)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002179)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002169)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002284)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001906)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003006)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001622)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001461)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001336)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001826)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002471)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002655)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001725)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001702)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001486)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002942)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002121)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001783)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001872)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002630)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003877)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002198)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002840)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001158)[0m   [0m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001975)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002237)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001713)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002012)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002126)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001708)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001177)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003642)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002925)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002355)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002755)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001703)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001149)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002217)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002968)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001552)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001892)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001521)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001116)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003381)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002952)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001926)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001698)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002021)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001917)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002273)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002060)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000964)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001611)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002199)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002531)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001736)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002389)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001273)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002172)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002173)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002522)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002422)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000889)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002836)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001903)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001731)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002150)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002304)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001159)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002209)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001984)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002239)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001842)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001004)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003306)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002269)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001790)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002465)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001876)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002086)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001267)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002420)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001144)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002300)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002880)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001637)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001428)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001645)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002033)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001854)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001504)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003299)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001249)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001433)[0m   [0m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003106)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002135)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001315)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002537)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001367)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002237)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001567)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001733)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001252)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001933)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002528)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001354)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001415)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001289)[0m   [0m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002892)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002421)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002042)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002011)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001374)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002211)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002157)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003541)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001294)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001404)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002517)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001876)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002473)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003103)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001309)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001067)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002056)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002866)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001261)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001389)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002141)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003006)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001478)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001552)[0m   [0m DELETE FROM mixins
 WHERE id = 4001
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001928)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002395)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.001736)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.001155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002577)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002047)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002272)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mMixin Load (0.001984)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 20)) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002716)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002053)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001685)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002000)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002970)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003127)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001686)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002487)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001732)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001783)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002913)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003011)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001883)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002792)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001576)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001895)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001446)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002774)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001851)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001701)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002005)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001629)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002445)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003455)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002308)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001756)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001951)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001741)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002188)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001368)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001997)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002048)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002897)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001791)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002837)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001896)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001705)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002272)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002393)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002189)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002456)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003833)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002006)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003980)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001668)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001627)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001324)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002724)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002643)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002106)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001454)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002035)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000493)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000350)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001747)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000707)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001067)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001721)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002803)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000634)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002804)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.001390)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND (lft BETWEEN 1 and 20)) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002637)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001662)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002243)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001820)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001308)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001537)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000969)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000703)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002163)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001785)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000524)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001912)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001928)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000474)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Create (0.001426)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:10', 1, 'NestedSetWithStringScope', 45, NULL, NULL, 2, '2007-01-18 00:03:10')[0m
  [4;36;1mSQL (0.001645)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Update (0.001913)[0m   [0mUPDATE mixins SET "created_at" = '2007-01-18 00:03:10', "root_id" = 45, "lft" = 1, "rgt" = 2, "pos" = NULL, "parent_id" = NULL, "updated_at" = '2007-01-18 00:03:10', "type" = 'NestedSetWithStringScope' WHERE id = 4015[0m
  [4;36;1mNestedSetWithStringScope Load (0.002811)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001883)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001451)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002273)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003243)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001714)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001125)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000380)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000443)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000975)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000425)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.003316)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002247)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001470)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002194)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002521)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002656)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002055)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002185)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002487)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001903)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003019)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002763)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003706)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000470)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002763)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002051)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.001263)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000766)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001497)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002245)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000825)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002199)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002530)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002148)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001943)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002230)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001699)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.004219)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001980)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002662)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002457)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002497)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002160)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000794)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002131)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002370)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001712)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001553)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.005893)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001932)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002302)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002179)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001604)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002526)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002013)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001680)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002407)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001770)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002545)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000681)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000760)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002887)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000668)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Create (0.037929)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:10', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:03:10')[0m
  [4;36;1mSQL (0.000704)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Load (0.004475)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001507)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001688)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002122)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002122)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001755)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002711)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002045)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002665)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000554)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001735)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000918)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000381)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005596)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005809)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;36;1mCategory Create (0.001112)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:11', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:03:11')[0m
  [4;35;1mSQL (0.001238)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mCategory Create (0.001450)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:11', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:03:11')[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mSQL (0.000759)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000422)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001266)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:11', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:03:11')[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mCategory Create (0.002099)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:11', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:03:11')[0m
  [4;35;1mSQL (0.001136)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mCategory Create (0.002621)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:03:11', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:03:11')[0m
  [4;35;1mSQL (0.001265)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000679)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001435)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001838)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mNestedSetWithStringScope Load (0.010253)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002020)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001760)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001778)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002324)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002549)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001471)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002187)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001769)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001503)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001669)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002450)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003157)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001952)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001694)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003096)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002074)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003207)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002030)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001792)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.012627)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001647)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002121)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.012991)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001469)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003008)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002545)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001795)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001417)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002554)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001758)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001467)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001360)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002219)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002054)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.012540)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002568)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001773)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001947)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001485)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001621)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001531)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002275)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002237)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002695)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.017656)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001652)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001852)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001897)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002343)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001818)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002465)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002382)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.015078)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002048)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001358)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001669)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002345)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002987)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001385)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001670)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002082)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001429)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002406)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.014996)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002745)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001529)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002080)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001913)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001852)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001457)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002712)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001965)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003106)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002638)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001419)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002663)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001955)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003463)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002234)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001916)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002709)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002110)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002535)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002117)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001852)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003765)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002396)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001792)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001885)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002357)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002806)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001669)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001850)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001830)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001684)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001745)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.013621)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.016543)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.038852)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002322)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000375)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003285)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mNestedSet Load (0.004634)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.001523)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.001849)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.002037)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.003188)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Load (0.001732)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Update (0.001768)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:05:07', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;36;1mNestedSet Update (0.001655)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:05:07', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;35;1mNestedSet Load (0.001534)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000828)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004838)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mNestedSetWithStringScope Load (0.002378)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND id > 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002673)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003174)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.001529)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002301)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001683)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003056)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001736)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mNestedSetWithStringScope Load (0.001800)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002073)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002522)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002177)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002634)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 16 AND rgt <= 17)) AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002095)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003822)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001836)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002320)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 15 AND rgt <= 18)) AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002026)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001872)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002810)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001957)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002380)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002473)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002462)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 15 AND rgt <= 18) OR (lft >= 4 AND rgt <= 11)) AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mNestedSetWithStringScope Load (0.002315)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001985)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001479)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002796)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002670)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002502)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002497)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003463)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 15 AND rgt <= 18) OR (lft >= 4 AND rgt <= 11) OR (lft >= 7 AND rgt <= 8)) AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mSQL (0.000520)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001736)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001743)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001790)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002549)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002390)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002068)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001788)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002954)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002148)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002580)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000481)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003232)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.006442)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mNestedSetWithSymbolScope Create (0.001438)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:07', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-18 00:05:07')[0m
  [4;36;1mSQL (0.001137)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithSymbolScope Create (0.002198)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:07', 1, 'NestedSetWithSymbolScope', 1234, NULL, NULL, 2, '2007-01-18 00:05:07')[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.000973)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000410)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001282)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000468)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Update (0.002559)[0m   [0mUPDATE mixins SET lft = lft + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001842)[0m   [0;1mUPDATE mixins SET rgt = rgt + 1 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000537)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Update (0.002993)[0m   [0mUPDATE mixins SET lft = lft + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002451)[0m   [0;1mUPDATE mixins SET rgt = rgt + 2 WHERE (lft > 11 AND root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.001600)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001698)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002588)[0m   [0mBEGIN[0m
  [4;36;1mPK and serial sequence (0.006823)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mNestedSetWithStringScope Create (0.000961)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:07', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:05:07')[0m
  [4;36;1mSQL (0.001221)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Update (0.002299)[0m   [0mUPDATE mixins SET parent_id = 4013 WHERE (id = 4013) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001930)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001665)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000949)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000639)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Create (0.000978)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:07', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:05:07')[0m
  [4;35;1mSQL (0.000666)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Load (0.001876)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002913)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001658)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001995)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001810)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000517)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.003477)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000507)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002160)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002293)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000717)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002106)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002224)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSet Load (0.001478)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mNestedSet Load (0.001944)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002917)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003076)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002085)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002531)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002045)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003665)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002036)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001463)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002309)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002077)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001554)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002322)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002679)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001466)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000763)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000423)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002170)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.003175)[0m   [0mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001464)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000467)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000439)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.003009)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002204)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001770)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002285)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002008)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001800)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001894)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001627)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001560)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001744)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002911)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002430)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001540)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000502)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000392)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002173)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002955)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001425)[0m   [0;1mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002484)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001620)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001925)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002199)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002007)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002474)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002575)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003728)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001880)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001341)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000487)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000634)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001842)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000748)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000702)[0m   [0mBEGIN[0m
  [4;36;1mMixin Load (0.001309)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3001) LIMIT 1[0m
  [4;35;1mMixin Load (0.001268)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3002) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.001623)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Load (0.002149)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 3002) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;36;1mNestedSet Update (0.001346)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:05:08', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;35;1mNestedSet Update (0.002593)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3001, "updated_at" = '2007-01-18 00:05:08', "type" = 'NestedSet' WHERE id = 3002[0m
  [4;36;1mMixin Load (0.002084)[0m   [0;1mSELECT * FROM mixins WHERE (root_id IS NULL and parent_id = 3001) [0m
  [4;35;1mMixin Load (0.001265)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 3003) LIMIT 1[0m
  [4;36;1mNestedSet Load (0.002147)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 3003) AND ( (mixins."type" = 'NestedSet' ) ) [0m
  [4;35;1mNestedSet Update (0.002405)[0m   [0mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3002, "updated_at" = '2007-01-18 00:05:08', "type" = 'NestedSet' WHERE id = 3003[0m
  [4;36;1mNestedSet Update (0.001862)[0m   [0;1mUPDATE mixins SET "created_at" = NULL, "root_id" = NULL, "lft" = NULL, "rgt" = NULL, "pos" = NULL, "parent_id" = 3002, "updated_at" = '2007-01-18 00:05:08', "type" = 'NestedSet' WHERE id = 3003[0m
  [4;35;1mMixin Load (0.002420)[0m   [0mSELECT * FROM mixins WHERE (root_id IS NULL and parent_id = 3001) [0m
  [4;36;1mNestedSet Load (0.001780)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 3001) AND ( (mixins."type" = 'NestedSet' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001881)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.001987)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY rgt [0m
  [4;35;1mSQL (0.000505)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000873)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002807)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mMixin Load (0.001822)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42 and parent_id = 4001) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003551)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42 AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002874)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002093)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001906)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001227)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001403)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001234)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003571)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003869)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001694)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001185)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001505)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001271)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002872)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001705)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001476)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001227)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002510)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001294)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.003399)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001954)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001245)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002287)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001287)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002652)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001822)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002657)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001065)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002364)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003193)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001457)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003733)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 42 AND (lft >= 1) and (rgt <= 10)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mMixin Load (0.002366)[0m   [0mSELECT * FROM mixins WHERE (root_id = 42 and parent_id = 4001) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001577)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002640)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001803)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001534)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001728)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002322)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003075)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001467)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000730)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000404)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002364)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000541)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001405)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002596)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001657)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001140)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001160)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001494)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003246)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.003212)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001328)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001531)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002783)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001577)[0m   [0;1m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002360)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002623)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002303)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001544)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001617)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001169)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001709)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002161)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001830)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001882)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001707)[0m   [0mDELETE FROM mixins WHERE (parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001173)[0m   [0;1m DELETE FROM mixins
 WHERE id = 105
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002909)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002676)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002203)[0m   [0mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002147)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001423)[0m   [0m DELETE FROM mixins
 WHERE id = 106
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002918)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002816)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 8 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 8 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 8) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001771)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001826)[0m   [0mDELETE FROM mixins WHERE (parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001311)[0m   [0;1m DELETE FROM mixins
 WHERE id = 107
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001871)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002289)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 101 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001270)[0m   [0mDELETE FROM mixins WHERE (parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001145)[0m   [0;1m DELETE FROM mixins
 WHERE id = 103
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002774)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002797)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 11 THEN 8 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 11 THEN 8 ELSE 0 END) WHERE (root_id = 101 AND rgt > 11) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002940)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001519)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002959)[0m   [0mSELECT * FROM mixins WHERE (id > 104 and id < 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002791)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002761)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 1) and (rgt <= 6)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.003435)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002822)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000931)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002019)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001898)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001834)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003337)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001554)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001835)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001258)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003002)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002580)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001788)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001524)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001493)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001036)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002195)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002887)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002303)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002436)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001840)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001144)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002800)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002246)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001548)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001376)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002178)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002833)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002045)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001527)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001191)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001836)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002151)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003001)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001721)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001206)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.003160)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002844)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002175)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001972)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001348)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001478)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002788)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001147)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002173)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002217)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001273)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001734)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001967)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.002487)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002610)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001564)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001480)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001598)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001475)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002862)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.004305)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001750)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.000864)[0m   [0m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002772)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002603)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001625)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002328)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001681)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001881)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000927)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003137)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002326)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001636)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002366)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002901)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000909)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002233)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001986)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001829)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001915)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001496)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001741)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.001754)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002545)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002574)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002078)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001384)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001571)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002743)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001977)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001278)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002282)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002049)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001169)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001816)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003061)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001310)[0m   [0m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;36;1mNestedSetWithStringScope Update (0.004297)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002484)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002359)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002073)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001239)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002318)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001863)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001474)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002385)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001697)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4006) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001155)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4006
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002940)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002229)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001673)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003033)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001245)[0m   [0m DELETE FROM mixins
 WHERE id = 4007
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001852)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001578)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 12 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 12 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 12) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003248)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002380)[0m   [0m DELETE FROM mixins
 WHERE id = 4005
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002653)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002609)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 13 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 13 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 13) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001528)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001516)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001341)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003048)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002379)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001304)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002454)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001588)[0m   [0m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002377)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003323)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001399)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001514)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001239)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4009) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002563)[0m   [0m DELETE FROM mixins
 WHERE id = 4009
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002404)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.003203)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.003212)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001549)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4010) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.001353)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4010
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003236)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002168)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 10 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 10 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 10) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001188)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4008) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000793)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4008
[0m
  [4;35;1mNestedSetWithStringScope Update (0.003007)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001634)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 19 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 19 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 19) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.002442)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002549)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001151)[0m   [0m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002165)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001616)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002183)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001709)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000932)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002918)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.002237)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001489)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002746)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001553)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Destroy (0.000861)[0m   [0;1m DELETE FROM mixins
 WHERE id = 4003
[0m
  [4;35;1mNestedSetWithStringScope Update (0.002087)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Update (0.001983)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 4) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Delete all (0.001719)[0m   [0mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002069)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4004) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.002007)[0m   [0m DELETE FROM mixins
 WHERE id = 4004
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002181)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.001639)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 6 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 6 THEN 2 ELSE 0 END) WHERE (root_id = 42 AND rgt > 6) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.002426)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001235)[0m   [0m DELETE FROM mixins
 WHERE id = 4002
[0m
  [4;36;1mNestedSetWithStringScope Update (0.002899)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002349)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 7 THEN 6 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 7 THEN 6 ELSE 0 END) WHERE (root_id = 42 AND rgt > 7) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Delete all (0.001261)[0m   [0;1mDELETE FROM mixins WHERE (parent_id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Destroy (0.001136)[0m   [0m DELETE FROM mixins
 WHERE id = 4001
[0m
  [4;36;1mNestedSetWithStringScope Update (0.001930)[0m   [0;1mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Update (0.002070)[0m   [0mUPDATE mixins SET lft = lft - (CASE WHEN lft > 20 THEN 20 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 20 THEN 20 ELSE 0 END) WHERE (root_id = 42 AND rgt > 20) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.002187)[0m   [0;1mSELECT count(*) AS count_all FROM mixins WHERE (root_id = 42) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.001117)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000447)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001615)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002248)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001918)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002598)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002118)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001830)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002242)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002878)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001998)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.003213)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002239)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002451)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001721)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001960)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002329)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002338)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 2) and (rgt <= 3)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mNestedSetWithStringScope Load (0.002216)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002207)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001954)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 1 AND rgt <= 20)) AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.001710)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002758)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002815)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 1 AND rgt <= 20)) AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mNestedSetWithStringScope Create (0.002200)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:09', 1, 'NestedSetWithStringScope', 234, NULL, NULL, 2, '2007-01-18 00:05:09')[0m
  [4;36;1mSQL (0.000879)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mNestedSetWithStringScope Load (0.002214)[0m   [0mSELECT * FROM mixins WHERE (root_id = 234 AND NOT ((lft >= 1 AND rgt <= 2)) AND (lft >= 1) and (rgt <= 2)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002409)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002688)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002430)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001956)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001802)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002340)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 16 AND rgt <= 17)) AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002303)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002268)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001828)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003974)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002752)[0m   [0;1mSELECT * FROM mixins WHERE (root_id = 101 AND NOT ((lft >= 15 AND rgt <= 18)) AND (lft >= 12) and (rgt <= 19)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.003005)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000679)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000421)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001979)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002514)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000845)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002731)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003007)[0m   [0mSELECT * FROM mixins WHERE (root_id = 101 AND (lft >= 1) and (rgt <= 20)) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) ORDER BY lft [0m
  [4;36;1mNestedSetWithStringScope Load (0.002919)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003203)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002315)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001782)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003044)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001732)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000839)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001434)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001866)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001955)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000879)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000754)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001917)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003861)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000399)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Create (0.002268)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:09', 1, 'NestedSetWithStringScope', 45, NULL, NULL, 2, '2007-01-18 00:05:09')[0m
  [4;35;1mSQL (0.000655)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Update (0.001861)[0m   [0;1mUPDATE mixins SET "created_at" = '2007-01-18 00:05:09', "root_id" = 45, "lft" = 1, "rgt" = 2, "pos" = NULL, "parent_id" = NULL, "updated_at" = '2007-01-18 00:05:09', "type" = 'NestedSetWithStringScope' WHERE id = 4016[0m
  [4;35;1mNestedSetWithStringScope Load (0.002381)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001814)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002289)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001777)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002038)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001869)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000532)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000778)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000735)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000491)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.002179)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002063)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4007) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002627)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4005) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002260)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002426)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002266)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001517)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001926)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001878)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001726)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001441)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002423)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002069)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000467)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001736)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002213)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000730)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000733)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001861)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001469)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.001781)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000441)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.002137)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001541)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001449)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001942)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.003341)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001788)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001486)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.003901)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002235)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001837)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002019)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001819)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000460)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000333)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001723)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001910)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.001809)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002964)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001852)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002503)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001573)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001709)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001765)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001786)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001324)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002691)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001804)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002312)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.000506)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000382)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Load (0.001527)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000511)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001235)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001911)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000344)[0m   [0mBEGIN[0m
  [4;36;1mNestedSetWithStringScope Create (0.001306)[0m   [0;1mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'NestedSetWithStringScope', 101, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;35;1mSQL (0.001985)[0m   [0mSELECT currval('public.mixins_id_seq')[0m
  [4;36;1mNestedSetWithStringScope Load (0.001504)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000596)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001525)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002672)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 0) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001301)[0m   [0mSELECT * FROM mixins WHERE (parent_id IS NULL) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002011)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.001725)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002016)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mNestedSetWithStringScope Load (0.002010)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002317)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mSQL (0.000877)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001079)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000714)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003941)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.007771)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'mixins'::regclass
[0m
  [4;35;1mCategory Create (0.001247)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.001537)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.001258)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001198)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;36;1mSQL (0.001913)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.001803)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mCategory Create (0.000976)[0m   [0mINSERT INTO mixins ("updated_at", "lft", "type", "root_id", "parent_id", "pos", "rgt", "created_at") VALUES('2007-01-18 00:05:10', 1, 'Category', NULL, NULL, NULL, 2, '2007-01-18 00:05:10')[0m
  [4;36;1mSQL (0.000859)[0m   [0;1mSELECT currval('public.mixins_id_seq')[0m
  [4;35;1mSQL (0.000525)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mNestedSetWithStringScope Load (0.001902)[0m   [0mSELECT * FROM mixins WHERE (mixins.id = 4001) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;36;1mNestedSetWithStringScope Load (0.002195)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.id = 4002) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.000498)[0m   [0mROLLBACK[0m
  [4;36;1mNestedSetWithStringScope Load (0.002483)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002041)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003564)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001751)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001831)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001453)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002427)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001775)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002109)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002042)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001881)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001651)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001420)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001588)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002748)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001729)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002723)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001881)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002171)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002407)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001399)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001697)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002129)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001806)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002107)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002686)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.012492)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001759)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001445)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002969)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002092)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001852)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002126)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002045)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002870)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001693)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001739)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002075)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003035)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001310)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001827)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 4003) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002019)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001492)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002091)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002225)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002422)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001378)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001312)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001995)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002144)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001445)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002705)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002897)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002945)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001428)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001296)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001355)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002695)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.003397)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001401)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001401)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002187)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002589)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001432)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001452)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002924)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001910)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001844)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002197)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001608)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002008)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002182)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002055)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002269)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001458)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001777)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001794)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002976)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001456)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002833)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002039)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002101)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002908)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002090)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002467)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003348)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002162)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002271)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 101) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002144)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 102) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001939)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 103) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002252)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 105) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.001652)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 106) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001662)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 107) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.002096)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 104) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.001574)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 108) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;35;1mNestedSetWithStringScope Load (0.003000)[0m   [0mSELECT * FROM mixins WHERE (mixins.parent_id = 109) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mNestedSetWithStringScope Load (0.002142)[0m   [0;1mSELECT * FROM mixins WHERE (mixins.parent_id = 110) AND ( (mixins."type" = 'NestedSetWithStringScope' ) ) [0m
  [4;36;1mSQL (0.014879)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021753)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009459)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003781)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000338)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000402)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.010019)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.035708)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007275)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002351)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.001263)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000453)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.020904)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.015937)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014930)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.009256)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.013392)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.068274)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.082901)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002315)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.011132)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.040439)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.032046)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002327)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.001175)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001094)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001157)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.060111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001465)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000373)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.014044)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.056814)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010719)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002131)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000991)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000712)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000590)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000910)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.030412)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.029766)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.043560)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002490)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.000952)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000955)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000697)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.000672)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.001184)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000640)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.013494)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.066376)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: table "categories" does not exist
: DROP TABLE categories[0m
  [4;35;1mSQL (0.015179)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.036885)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002242)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.001072)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.001432)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.001148)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.001218)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.001307)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000741)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000680)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.032534)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021682)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.049721)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.011915)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.026662)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.009917)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000307)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.019614)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'mixins'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.000838)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001749)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000468)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002860)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000407)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000476)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000776)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000733)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000397)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.033099)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.018890)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009767)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.051073)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010856)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002598)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000393)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004098)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007993)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001269)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001902)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002243)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000801)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001360)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.004836)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001765)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001890)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.003135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003025)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002096)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003751)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001288)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003041)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002036)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001675)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000532)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002096)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002027)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000707)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001314)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.002034)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002634)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002254)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.002155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001863)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002298)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002359)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001922)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002651)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002026)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001759)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001219)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002261)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002041)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000672)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001460)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001278)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001127)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 7)[0m
  [4;35;1mSQL (0.001090)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001147)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000906)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001274)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000908)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002321)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;35;1mCategory Update (0.001670)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Update (0.002031)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001971)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.003714)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000898)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001505)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001299)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000996)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001586)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002784)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.002081)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 3)[0m
  [4;35;1mSQL (0.000936)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001916)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002182)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001082)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001670)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001660)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.003513)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001235)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000933)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001753)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001915)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001710)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001769)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.003113)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 16) [0m
  [4;35;1mCategory Delete all (0.001102)[0m   [0mDELETE FROM categories WHERE (parent_id = 16) [0m
  [4;36;1mCategory Delete all (0.000892)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 16) [0m
  [4;35;1mCategory Destroy (0.002501)[0m   [0m DELETE FROM categories
 WHERE id = 16
[0m
  [4;36;1mCategory Update (0.002322)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001706)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002780)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001680)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002565)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.007641)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000605)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000390)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.035687)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.055377)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010902)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.041248)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010904)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002799)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.041932)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.079179)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.019331)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.127093)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.050733)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.005720)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000908)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.010858)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006712)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001263)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001362)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001219)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000895)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001879)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001686)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002309)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002504)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001704)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002705)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001948)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002265)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004710)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001279)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002017)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001599)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.010796)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002869)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001194)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001400)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001567)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001353)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001142)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002164)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.002621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002757)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002376)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.012912)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002572)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002052)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002095)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002667)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.003250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001718)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.004393)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000919)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001316)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001532)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001659)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001687)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002329)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002328)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000740)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001356)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000989)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001462)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000965)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001143)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000687)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002614)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001991)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002736)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001699)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002444)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001759)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002092)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.003083)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001116)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001066)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001883)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001694)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001923)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.001434)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001238)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001001)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001138)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002216)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000959)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001571)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001682)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002668)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002380)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001752)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002669)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.002116)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001949)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.004293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002624)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000460)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002259)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001107)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001426)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.009344)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001471)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001081)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001530)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001728)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002104)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001697)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001655)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001426)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.006535)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.003672)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.001770)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001390)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000948)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001525)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.002991)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001606)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001489)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001535)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001830)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001131)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000917)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001923)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001115)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001582)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000665)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001942)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002306)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001727)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.007012)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001801)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.003112)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000919)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001077)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001823)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001009)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001639)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002092)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001276)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000868)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001946)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002161)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001139)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.002125)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001975)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002464)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002575)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000954)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001766)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001910)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.002957)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001097)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000938)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.002569)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002586)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002010)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002726)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002033)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001242)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001265)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002002)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002057)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001446)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001061)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001930)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001617)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002234)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001125)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001147)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002836)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002373)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001560)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001046)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002873)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001590)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002503)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002055)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.002692)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000882)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001149)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001207)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003411)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.003706)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001813)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001703)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.004374)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000528)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000420)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001116)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001198)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001253)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000806)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001174)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001283)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.008782)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001439)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001608)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001736)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001365)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001785)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001885)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001665)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.003311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001881)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001683)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001493)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001573)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004366)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.002271)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001554)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002258)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001691)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.009266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001628)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001554)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000397)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000963)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.030922)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.023759)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.046726)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013635)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.043342)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001808)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000383)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004543)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008510)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001522)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001052)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000961)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001269)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001198)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001791)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.002944)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001684)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002002)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001948)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003089)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002668)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001632)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.014550)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001629)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001682)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001924)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.003792)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001774)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001716)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000710)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001437)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001007)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001288)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001229)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.002119)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.003413)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001576)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001594)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002939)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002490)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001404)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002494)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001542)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001387)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.003488)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000837)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002161)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001756)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001796)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000547)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.004859)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001146)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001104)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002084)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001448)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002662)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002101)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001678)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002745)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001549)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.005532)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002717)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001516)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002204)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001141)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001022)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001731)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001961)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001557)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.001195)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000981)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001282)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001417)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.002440)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001428)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000863)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001864)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001762)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.003187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001613)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002317)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000937)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000953)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001967)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.003226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002103)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002682)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.001053)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003980)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001625)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001156)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.004318)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000662)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003084)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000752)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001776)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001721)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002788)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002019)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002673)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002158)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001781)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002879)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000926)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001956)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001766)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001711)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001643)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001221)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.004642)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001215)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001206)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001736)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001221)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001287)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002120)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002139)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001943)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002681)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001395)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002865)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000664)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002263)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002714)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001309)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000741)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004638)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002109)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002204)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001185)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000997)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001998)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001630)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002876)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001510)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.001666)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001643)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001970)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.006761)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001662)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001391)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000838)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000901)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002438)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002135)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002430)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001862)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.001440)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000985)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002044)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001738)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002177)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001079)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000641)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001950)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001965)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002350)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002039)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001159)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001524)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002212)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001611)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.004042)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001608)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001814)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001722)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.002026)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001700)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001107)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001517)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001792)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.003492)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001804)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001669)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.002134)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000437)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001411)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000661)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001256)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000938)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001261)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001135)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001411)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002991)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001225)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000925)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003315)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001622)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002242)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.001728)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002071)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001775)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001794)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002000)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003970)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001894)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001978)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001856)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002813)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001434)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001707)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000482)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.031759)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.053787)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.020299)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.039291)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.041045)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003075)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000316)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004682)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.009831)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001292)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001130)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002194)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001521)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001331)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000995)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001916)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.003526)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001636)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.003792)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.003464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002257)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001958)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001538)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004269)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.006670)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001074)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002521)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001872)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001950)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.005574)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000540)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001229)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001479)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000967)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001159)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001032)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.003091)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001899)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001606)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001408)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002153)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001946)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001691)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002016)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001467)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002167)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001960)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.003496)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001573)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.002272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003756)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001694)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002966)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000527)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000743)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001535)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002148)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000922)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001064)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001262)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002112)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002580)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002273)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001854)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002016)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001952)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001303)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002026)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001541)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001229)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001570)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001576)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002822)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.004333)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000910)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001920)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000825)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003583)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.002091)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001092)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001666)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001786)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001775)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001714)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002561)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001418)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002089)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001793)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000758)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002291)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002455)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002733)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000734)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000810)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001676)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000897)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001114)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002252)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001649)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001505)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002331)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.004315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001549)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.002444)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002304)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001126)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001033)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001698)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001715)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001855)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001485)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.004562)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000474)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001947)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000874)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001145)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000804)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001359)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000955)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002005)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000918)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.004536)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002227)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001546)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001853)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002648)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001708)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001816)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000814)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001272)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003564)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001832)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.001993)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.003209)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001134)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001745)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002787)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001617)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001141)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001543)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.003089)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002096)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.006952)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.002259)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002040)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002047)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.003081)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001536)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001361)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.002409)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002753)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002247)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001663)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001678)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001714)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000749)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001830)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001123)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001786)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002197)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.003607)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001153)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001943)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.003047)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000927)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003148)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001331)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002526)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001149)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000648)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001715)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001646)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.004326)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001303)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000992)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001102)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003289)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001693)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002351)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001885)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000752)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000464)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001585)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001183)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001219)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001263)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002029)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001170)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002399)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001482)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001087)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002330)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001637)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001562)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002102)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002390)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001619)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001745)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.005024)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001649)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001758)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002972)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.005662)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002375)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001661)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000901)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000757)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000688)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.013221)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.049678)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.025843)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013273)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011833)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002218)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000365)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003692)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006412)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.006327)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001074)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002247)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000897)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003049)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000920)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002249)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001824)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002454)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001907)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001815)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001760)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.005545)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000938)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.002183)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002733)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001494)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000783)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.007434)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001364)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001278)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000916)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001877)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002248)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001685)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003643)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001920)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.003053)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001654)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001744)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001581)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002320)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001477)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000867)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002093)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001793)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.007169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002254)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.001928)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001114)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000712)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002241)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000963)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001249)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.002381)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002086)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002102)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001697)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002923)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002688)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002007)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001004)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001665)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002614)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.008111)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002032)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001409)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000706)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001340)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.002729)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001790)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.002188)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001492)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001971)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.004806)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002469)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001289)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000782)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001748)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001943)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001515)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001696)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000589)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001169)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001451)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001265)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001138)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000747)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001984)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001948)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.003048)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.006247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002232)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002302)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001725)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.003042)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.004796)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000977)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001986)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001840)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001835)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001891)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000985)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000442)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001448)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001140)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001226)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001490)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001831)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000944)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001145)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000652)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001899)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001594)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001867)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.003917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001470)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002370)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.007398)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000909)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001489)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002825)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001234)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000779)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001627)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002206)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001337)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001003)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001626)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001651)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003014)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001258)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002025)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001632)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001995)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.004060)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001937)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.002572)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001315)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001622)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.003604)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mSQL (0.000810)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001393)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001197)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001675)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001785)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.001794)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.004001)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002830)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001584)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002144)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001194)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000931)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004582)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.003533)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002336)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.004900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001696)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002019)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001918)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001696)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001246)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001125)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001439)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003316)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mSQL (0.000799)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000461)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001438)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001042)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002042)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001016)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001497)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001204)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000963)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000696)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001916)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001073)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001836)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001888)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001913)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002298)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.001910)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001734)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001834)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001546)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003715)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002451)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001980)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.004636)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001653)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002668)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002729)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000974)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003935)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.033207)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021953)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.063232)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.031491)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009987)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003017)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000343)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.007268)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006958)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001402)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002247)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001190)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002215)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001824)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001684)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.007419)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002507)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001564)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001294)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001875)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003123)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001388)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000982)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001869)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001592)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002121)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001697)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000495)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001296)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001860)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001139)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.002554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001138)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.004897)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001829)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.003014)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001815)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002749)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002612)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.003106)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001665)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002776)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002309)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001123)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000868)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002785)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.002576)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001680)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002349)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000756)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.007414)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.004614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001791)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001187)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001202)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001913)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001773)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001361)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001715)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001930)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001597)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001692)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.009929)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001229)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000681)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001656)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001652)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001589)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002075)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.001099)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001080)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000870)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001344)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.007025)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000841)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002938)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001721)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001809)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.011785)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001449)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001463)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002257)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001271)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001777)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.003200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001938)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.001951)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000615)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.009467)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001218)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001118)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001164)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001147)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001885)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.003167)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002524)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001708)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001403)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002007)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001383)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.003044)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001501)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.003469)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002298)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001475)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001731)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002006)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001183)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000540)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001454)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.003093)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000889)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000809)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001242)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001205)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001255)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000902)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001745)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.003218)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.002658)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001992)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.008224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002626)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002040)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000762)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001377)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.007420)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001650)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002671)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001077)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000659)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001673)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001676)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002000)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001208)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001016)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001571)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.004347)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001108)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000592)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001732)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001882)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001713)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001688)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001289)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001154)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001546)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.003348)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002229)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.012804)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001766)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.011519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000520)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001387)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001152)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001707)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002101)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000644)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001494)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001669)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.003596)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001799)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001154)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001694)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001561)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.004441)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002077)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001041)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001857)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001703)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001982)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002647)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001576)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.002243)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.005785)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001570)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002181)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.005966)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001486)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.003203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000523)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001041)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001190)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001279)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001159)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000848)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.007609)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000972)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000941)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001756)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001526)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000903)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002532)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001747)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001616)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001408)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001700)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001466)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001954)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002097)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004497)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001786)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001925)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001460)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001648)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000777)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000413)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.257794)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021398)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007236)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014465)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011711)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004084)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000978)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003409)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007402)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000862)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001375)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001297)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.002113)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001277)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.003906)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003360)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001989)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001558)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002170)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001483)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001753)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.005632)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000993)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001315)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002640)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002447)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002235)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001044)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000935)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001230)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001113)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002399)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001081)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002928)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002250)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002055)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001697)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002256)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002042)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.003637)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001682)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001534)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002146)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001233)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000989)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002418)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001726)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001622)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.003028)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001199)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001249)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001121)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001167)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001147)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001573)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002697)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.005182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001908)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002186)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.003668)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001722)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002873)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001132)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001372)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002226)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001709)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.003074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001702)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000859)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001105)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000569)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001046)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001294)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001352)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.003404)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.003052)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001903)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001516)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001421)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.001996)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001309)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001181)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002619)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001937)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.003569)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.001587)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000476)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.005308)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000998)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001198)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001334)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000874)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002518)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.002342)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001506)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001611)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001974)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002361)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002353)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001563)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002231)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001375)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001665)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001716)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.002127)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002053)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002769)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000788)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000490)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001272)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001572)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001274)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001192)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001290)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001758)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001255)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001052)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001864)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.004463)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.002990)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002087)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001600)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002062)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001454)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000514)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001173)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002053)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001557)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002852)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001181)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001103)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002004)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001356)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002901)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001335)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001637)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002873)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.001506)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002058)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.001008)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001533)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001688)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002906)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002104)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001384)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001363)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001535)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001804)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002555)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND (lft > 4 OR rgt > 4)) [0m
  [4;35;1mCategory Update (0.002350)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND (lft > 4 OR rgt > 4)) [0m
  [4;36;1mCategory Load (0.002801)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001689)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002724)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000960)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001354)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001281)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001913)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001733)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.001860)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000998)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001798)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001787)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002480)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001179)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000899)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001706)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002371)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002157)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001759)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001078)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001746)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002521)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002399)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001900)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001156)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001123)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001070)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003384)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND (lft > 4 OR rgt > 4)) [0m
  [4;35;1mCategory Update (0.002221)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND (lft > 4 OR rgt > 4)) [0m
  [4;36;1mCategory Load (0.002350)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001430)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.001134)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001187)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001539)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000943)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000786)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001277)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001101)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002466)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.002457)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001040)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001996)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.003477)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.005144)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001531)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001629)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001940)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001486)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003361)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.002029)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002283)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.003869)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001625)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001638)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001843)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.008903)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000749)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000303)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000361)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.013043)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.051770)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.050022)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014437)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010813)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002468)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000568)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.008672)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006408)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001364)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001720)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001707)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001050)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000941)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000816)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002710)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001927)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002518)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001577)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002017)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003158)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001750)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001837)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003254)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001120)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001258)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002599)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002708)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001698)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002954)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000926)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000944)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001985)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001622)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001383)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001200)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001719)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002662)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001657)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001920)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001474)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002209)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001653)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001800)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002271)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.005949)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001081)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001195)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001631)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001667)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001410)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002591)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001690)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000714)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001348)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000898)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001196)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001221)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001103)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000796)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002454)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001572)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001863)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001857)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001742)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002011)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002642)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002042)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002199)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001708)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001429)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.004010)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002073)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000955)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001563)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001267)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000999)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000837)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001668)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.002581)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002550)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001688)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001906)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.001993)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.003158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001318)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002610)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001890)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002937)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000731)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001366)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001461)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001394)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.005907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000985)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003070)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001958)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.003595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001687)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002624)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001398)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001897)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002409)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.005443)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001559)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001943)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001698)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002463)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002092)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001002)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000861)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001139)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000933)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000924)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001185)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001243)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000951)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001620)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001738)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001518)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001610)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001970)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001803)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001978)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000677)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001258)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001718)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000721)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003003)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001619)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.001736)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002001)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001578)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002541)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001470)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.001996)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002526)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001662)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001999)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001468)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.001979)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001540)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000701)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001600)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001861)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001495)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.002134)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001265)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001265)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001406)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002851)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001837)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001857)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002419)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000598)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000689)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001164)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000688)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001974)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.013138)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002095)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001224)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001263)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001998)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001332)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.001888)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001210)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001075)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001637)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002979)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002171)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000881)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000925)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001695)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.005889)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002600)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.002579)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001501)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001199)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001246)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003359)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001895)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001516)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001537)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002108)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000759)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001277)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.005916)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002211)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001497)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.014835)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000761)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001486)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000657)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001586)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001179)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001045)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002629)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.002005)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001839)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002897)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001778)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001757)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001586)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001740)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004591)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001731)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001851)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001838)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002028)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002427)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000589)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000590)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.027103)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.018975)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.008029)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.059048)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.044605)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002974)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000359)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004735)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007753)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001570)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001348)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001345)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001163)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001940)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001114)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002380)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001565)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002007)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001912)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002721)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001654)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004272)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001298)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.004608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001644)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001534)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001288)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000758)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001286)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001056)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002100)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001708)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001776)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002293)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002601)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002382)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001712)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002048)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001924)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002472)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002272)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002180)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000973)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001864)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001834)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002072)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001650)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.003022)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000864)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000801)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001523)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001168)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001432)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001016)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001157)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001753)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001593)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002638)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001431)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001543)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001690)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002302)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001557)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001163)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001554)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001560)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000587)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001169)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001062)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001438)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000830)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001172)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001045)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002322)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001914)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002522)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001738)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001864)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002598)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002385)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001276)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000780)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001976)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001638)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000540)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001696)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001393)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001637)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001013)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001149)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001733)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001496)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001765)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001422)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001694)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001912)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002470)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001143)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001156)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001783)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001779)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002365)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001551)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000401)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001119)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000896)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.005318)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001022)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001389)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001098)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000907)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002047)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002082)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001675)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002009)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001566)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001602)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001909)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000890)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001460)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001085)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002936)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001876)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002787)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001587)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001060)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001603)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001957)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002202)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002203)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000902)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001725)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002725)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001220)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000816)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003428)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001395)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002686)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001456)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.004415)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001147)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002725)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002735)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001779)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001993)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000743)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000420)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001082)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002083)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001410)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002047)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001189)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.002066)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001738)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.003505)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002780)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002725)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000685)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002754)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002262)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001199)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000887)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001640)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.003064)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.002054)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001818)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001234)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000883)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002538)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001931)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002784)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.003132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000621)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002140)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001066)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001799)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000691)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001856)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001054)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001130)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001001)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002263)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001239)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001034)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001740)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001790)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002243)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.001753)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002389)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001910)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002848)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001972)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003361)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001582)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002878)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001746)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002939)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001623)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001692)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001788)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000512)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000445)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.026589)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.018643)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009046)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.071066)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.012266)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004602)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000418)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005776)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006022)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002963)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001114)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001110)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001316)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002379)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.003165)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002530)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.002876)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001952)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.009570)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003909)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001782)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001416)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.006558)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001312)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000722)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001523)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001717)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002524)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.003061)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000842)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000429)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001116)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001353)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001228)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001216)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001063)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001533)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001785)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.002107)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.004702)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001765)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002000)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.004702)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001473)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002729)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.004033)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.002221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001643)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.003135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002874)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.001019)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001209)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002253)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001382)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001381)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001497)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001638)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002977)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002005)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001495)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002012)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002859)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002869)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002021)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.003945)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001108)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000695)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002027)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002853)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001992)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001977)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000561)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.005352)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001136)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001301)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001041)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001434)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000870)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002088)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001787)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001868)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.006015)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001566)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002654)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001745)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000729)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001684)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001739)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001669)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001558)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000527)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000921)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001188)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001296)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002426)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001137)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001233)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001914)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001609)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.002238)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002238)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.003028)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002760)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.002248)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002920)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001526)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002138)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.002202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.003560)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002343)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000752)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001151)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001175)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001113)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001251)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000982)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001100)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001056)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001292)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002484)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001970)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.005630)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001903)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001831)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001892)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000537)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000983)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001519)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001587)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001508)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002117)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001201)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.005287)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001813)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002485)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002437)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001497)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001927)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003281)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.001054)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001668)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.003000)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.005183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002970)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001407)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.002157)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001557)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001192)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.003777)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002158)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001440)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001683)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001673)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000737)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000414)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000949)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001385)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001802)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002046)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002011)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001131)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001136)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001748)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002531)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002485)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001565)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000953)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001727)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.003359)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001273)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001332)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001777)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001934)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001705)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001998)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001546)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001396)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001120)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001299)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002511)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.015716)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001704)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002081)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001525)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000806)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000525)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002070)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001072)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001335)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000854)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001241)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000965)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000861)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001906)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001290)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001985)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002401)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.002148)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002024)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002687)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002090)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.003051)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.003439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001931)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004336)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.002087)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001779)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001624)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001710)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001646)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000375)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.014695)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.026207)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010390)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.049762)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.015662)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.057996)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000366)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.014810)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007833)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001094)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001080)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001270)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.003468)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001788)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001017)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002761)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001315)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002594)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.003050)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002033)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001502)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002041)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004353)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001839)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001763)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.003482)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002003)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001722)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001875)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001270)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002482)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001691)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000858)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001833)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001619)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001807)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001768)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002082)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.003237)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001872)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001806)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002170)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001674)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000729)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001594)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001921)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.003354)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.009200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.001005)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001223)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002736)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001611)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001562)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000684)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001735)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001749)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001709)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001690)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001954)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001560)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002070)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001576)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002015)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002997)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001311)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001992)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001500)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002238)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.004640)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000525)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001077)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001085)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001803)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000955)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001208)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000941)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001759)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.004416)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001897)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002265)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001264)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001302)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001746)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001508)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001641)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002243)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000470)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001438)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000700)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002526)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001052)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001814)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000907)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001984)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.003933)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001769)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001688)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001622)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001759)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.002809)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002467)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001015)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001449)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001786)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001600)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001893)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000579)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001268)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002047)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001775)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001647)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001556)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001042)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001719)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001822)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001948)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002126)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002739)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.003466)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002039)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000916)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000432)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001171)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001158)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001974)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001391)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002087)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001391)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001483)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001720)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.003171)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.003209)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001256)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001984)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001638)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002487)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001649)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.001257)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001725)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002773)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001801)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001717)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001444)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001889)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.002093)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001701)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001041)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001727)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002457)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002266)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001350)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002984)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001711)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.001506)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001350)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002877)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001389)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002263)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001391)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002607)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.003031)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001448)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001961)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001154)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001753)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.002357)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Load (0.001497)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002378)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001877)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000724)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000445)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001142)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001580)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001116)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001268)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000733)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001216)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001364)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002624)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001669)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000851)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001614)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001843)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002360)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.001665)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002665)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002023)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001657)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001735)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002068)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004288)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001458)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002046)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002281)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001521)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000931)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000992)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.025158)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.065687)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.063282)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018238)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.055670)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001944)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004890)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.022008)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001334)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001376)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002292)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001153)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001620)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001162)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001924)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.002109)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002603)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001745)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001790)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001712)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.003446)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003931)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001333)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000926)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001897)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001976)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001906)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001831)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001842)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001808)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001120)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001383)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000999)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002027)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001674)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001517)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001945)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002337)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001571)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001471)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002565)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001797)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.003191)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001324)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000825)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001768)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001741)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001531)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001566)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002018)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000937)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001362)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003698)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001573)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001982)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001761)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001720)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.015036)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001456)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002954)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.004275)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.003094)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003188)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.004032)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001996)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001629)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000563)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001040)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001217)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.003080)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001235)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000758)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002218)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001799)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001864)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001684)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001710)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001585)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.003700)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001581)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001833)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.004674)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000824)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000813)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000954)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001224)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001216)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001130)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001315)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000996)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002114)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.002060)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001728)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001733)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002431)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002374)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.001885)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001179)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001358)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002026)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001779)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001667)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.004763)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001040)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001682)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002152)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001491)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.139567)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001456)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001156)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.007394)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001204)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002551)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.027136)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.003309)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001441)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002920)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001015)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000491)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.004867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001082)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001679)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001385)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002200)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001268)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.004652)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001431)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.004547)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001410)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001746)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003097)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000924)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001761)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001546)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.003085)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001537)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001186)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001378)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002328)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002855)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001772)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001897)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000962)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000460)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001216)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.005246)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.021386)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001365)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002237)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001401)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000940)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001697)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002143)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001804)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.001323)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001879)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002061)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001389)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.002048)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001792)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002379)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001493)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.002098)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001657)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001859)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001087)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002795)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002160)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.021764)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002521)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002002)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.001004)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000414)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001271)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001060)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001476)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001219)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001569)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001668)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002303)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001077)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002561)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001340)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001041)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001825)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.002612)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001788)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002402)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001956)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001894)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004652)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001622)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001723)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002425)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001784)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001772)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002013)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000574)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000533)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.024412)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.024579)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.048607)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013221)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.047670)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002020)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000326)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003785)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007640)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001097)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001245)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001484)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002315)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001343)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002563)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001953)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002615)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001806)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001782)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002299)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001766)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003236)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.003514)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001252)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002538)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002052)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.003196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001467)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000754)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000852)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.004905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001089)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001330)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001366)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001003)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001526)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.003224)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.002365)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002328)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002777)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.003233)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001601)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002484)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002099)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001838)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000816)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003941)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001548)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001726)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000722)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000414)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001188)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001667)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002255)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001739)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001761)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.001515)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002099)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002053)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001683)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001503)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001831)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002298)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001174)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001324)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001566)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001521)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002814)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002899)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001657)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000885)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001307)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001206)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000902)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001419)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.002196)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001602)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.002636)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001597)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002021)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001470)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.003689)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002630)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001917)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001126)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001876)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001801)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002041)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000402)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001201)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001335)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001290)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001047)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001987)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000714)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001656)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001643)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002254)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001801)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.005387)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001727)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001281)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002338)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002125)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001049)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002198)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001588)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002106)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.003546)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001887)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001014)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001414)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000920)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001414)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000940)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001120)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000659)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001805)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001129)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002284)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002431)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001938)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002567)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001863)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001921)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001677)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000880)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001031)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001838)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000935)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001781)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001389)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002737)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001378)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000696)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001696)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001786)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002106)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001368)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001168)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003465)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001479)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002952)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002303)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000865)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001707)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001656)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001764)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002379)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001349)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000827)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001991)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002761)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002622)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001631)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002610)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000799)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000400)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001410)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001547)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002675)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002314)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.014427)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001144)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001542)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001693)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002012)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000898)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002106)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002023)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002387)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001315)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001535)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002058)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001831)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001401)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001343)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001517)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003100)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001980)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002602)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001779)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000898)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000801)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002137)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001066)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002981)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001017)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001994)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003017)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001965)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001227)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000712)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001748)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001701)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001647)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001586)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001548)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001558)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002759)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002103)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004038)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001906)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.005711)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001611)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.003195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001661)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001641)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.007869)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000661)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000861)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.033276)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019524)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009887)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.053743)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009442)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.039085)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000301)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004302)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006230)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001381)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000844)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001155)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000932)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002600)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000993)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001969)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001703)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001704)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002672)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001488)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001336)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003310)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001188)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000690)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001723)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001465)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002051)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001419)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000467)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001156)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001128)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001543)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001128)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001482)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001892)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001930)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001619)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001890)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001964)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001428)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.003483)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.004796)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001913)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.001834)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001146)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002497)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003713)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002651)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002614)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000607)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000474)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001338)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001109)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001352)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001121)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001124)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.001022)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001377)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002275)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001618)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002091)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001732)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002234)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002032)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001881)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002245)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.003041)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001772)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000521)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001281)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001138)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001317)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001126)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002017)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000873)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002021)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.002567)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.002215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002952)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001946)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002754)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002030)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001186)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001829)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.003135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001489)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001347)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001406)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001264)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.002202)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001306)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001998)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002731)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001768)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001537)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001828)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002567)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001577)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001872)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002839)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001231)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001337)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.003040)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001615)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001680)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001684)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000609)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001794)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001469)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000749)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001180)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001648)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001582)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001662)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001764)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001808)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001723)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001871)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001863)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.006577)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001009)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001241)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001299)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001065)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001419)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001470)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.003453)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001248)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000954)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001733)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001338)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002231)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001856)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002532)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002270)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000677)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002475)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001714)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001629)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001620)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001490)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001230)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001678)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002706)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002283)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001873)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.003025)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001666)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000688)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001171)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000717)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001496)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001316)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.001870)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001134)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001325)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001564)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.003745)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002635)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.001418)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001998)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001504)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.001896)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001110)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001883)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001897)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002332)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.002302)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001302)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001208)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001223)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002185)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002432)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002609)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001794)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002053)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000947)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001601)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001900)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001199)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000988)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001109)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000669)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001150)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001300)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001583)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001372)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001456)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.016518)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001914)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002619)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.003956)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001993)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001686)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001373)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.004020)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003302)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001558)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001568)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001822)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001705)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001993)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001015)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000724)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000387)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.024637)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.031881)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.048427)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018510)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.056293)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002943)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000333)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003720)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.001631)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000777)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000433)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000409)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000452)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000402)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000483)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000402)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000317)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000631)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mBEGIN[0m
  [4;35;1mPK and serial sequence (0.009447)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.005125)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.001492)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.000696)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000654)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002233)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000906)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000442)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000334)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000460)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.013435)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.051240)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.012857)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013406)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014945)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002292)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000332)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004314)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008703)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002233)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.004938)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001594)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001082)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001215)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000812)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.003023)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.002601)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002568)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001710)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001837)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002968)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003093)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.005134)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002020)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002445)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002530)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000542)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001013)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001221)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001478)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001394)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000935)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001156)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000838)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002212)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002224)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001418)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001695)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002045)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.003723)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001728)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002561)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001240)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.002366)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001808)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.004513)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001448)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000940)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001306)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000927)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001116)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001251)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000698)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.004391)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002671)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001468)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001717)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001457)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001352)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001757)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.001856)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001485)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000994)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001877)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001917)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001441)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001872)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000627)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001040)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001348)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000884)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001248)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001020)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001361)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001706)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001718)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001651)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002096)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001443)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001512)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002278)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001324)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.001791)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001652)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002930)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001624)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002284)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000812)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001719)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001082)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001319)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000918)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001125)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001370)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001769)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.001888)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001693)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001870)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.009367)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001807)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001862)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001457)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.004358)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001836)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001144)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001687)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001484)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002076)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.003994)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001021)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001063)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001170)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000708)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001967)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001445)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001026)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001198)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001781)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.001563)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.002022)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001748)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.008586)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001580)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000849)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000498)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001258)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001891)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001958)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001598)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002067)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001131)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000745)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005954)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001547)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.003076)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001469)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.007182)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002565)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001634)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003304)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001074)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001706)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002477)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001679)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002516)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001260)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001257)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.002624)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.004110)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.003528)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002049)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.005043)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000733)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.009776)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001096)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000838)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001523)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001871)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002153)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001662)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001086)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001911)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001522)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.003685)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001459)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.001858)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002087)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.004593)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002061)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001289)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001104)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001839)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001538)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001684)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001421)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001534)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001541)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002103)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002556)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002729)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001960)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.007982)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000686)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000963)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001199)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000866)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001350)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000793)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001325)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001025)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001177)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.003066)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001993)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001289)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000735)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001914)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.002274)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001786)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.005620)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002073)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.003410)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002931)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001711)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001854)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003046)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001940)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002029)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001953)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001544)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.003293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.003095)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000966)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000430)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000396)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.013578)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.044708)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010948)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.037956)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.017122)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003303)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004530)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.016642)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002071)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001113)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001288)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.002312)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001114)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001231)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002710)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.002289)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.001501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002628)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001507)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002020)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001554)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003701)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.003486)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000799)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001653)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.003644)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002322)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003247)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000981)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002011)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000817)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001150)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000681)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001744)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.001995)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001814)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002124)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002035)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002868)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002810)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001954)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001880)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002786)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.003311)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000842)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001899)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.001930)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001842)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.003509)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001303)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000906)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001719)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000840)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002775)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000818)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000684)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002683)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.003482)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.002061)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002414)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001566)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001411)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.002758)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001454)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.002611)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000696)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002780)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001906)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002072)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001765)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001845)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000523)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001437)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000901)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001174)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001334)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001043)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001607)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.001760)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001450)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001896)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001657)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002914)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002571)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002556)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000949)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001896)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001673)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001671)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002952)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000465)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001321)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000900)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001596)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001311)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000648)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.004361)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.002625)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.002264)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001866)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002883)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001352)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001547)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.001900)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002953)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002001)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000958)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001909)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002058)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001815)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001635)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000882)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000409)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002883)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002029)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001298)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000934)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001272)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001363)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000828)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002104)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002116)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001857)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001870)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002893)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001906)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000717)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000767)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001956)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.004020)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002070)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.003511)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001174)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000910)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002425)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002306)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001317)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002921)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002079)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003164)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001171)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.001042)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001629)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001915)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001771)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001784)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001714)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000813)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001222)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.004036)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002397)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.006285)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001963)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.011908)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000803)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000671)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001405)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.002004)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001294)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002527)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002098)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001350)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000979)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004303)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001641)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.001984)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001183)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.001053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001739)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002476)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002414)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001602)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001794)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.002591)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001152)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.002204)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001271)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001733)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.001938)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002029)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001634)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001844)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001246)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.010533)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.005613)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000896)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001459)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000915)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001971)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001483)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001970)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.002832)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.002377)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.002040)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002372)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001667)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002856)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001708)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001715)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004060)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.040657)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.003151)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001490)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002107)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001788)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.015005)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.005318)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000324)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000351)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.013850)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.053251)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.020795)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.041548)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.039073)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002847)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000344)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.007653)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007106)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001363)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001133)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001578)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001353)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001115)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001060)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002546)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 3 WHERE id = 4[0m
  [4;35;1mCategory Update (0.001908)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 2 WHERE id = 3[0m
  [4;36;1mCategory Load (0.002260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002334)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002483)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001454)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002964)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004633)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001657)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001148)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002470)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002902)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001174)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000956)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001321)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001431)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002623)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000716)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002658)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 7 WHERE id = 8[0m
  [4;36;1mCategory Update (0.002338)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 6 WHERE id = 7[0m
  [4;35;1mCategory Load (0.001643)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001927)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001446)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002316)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001650)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002523)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002623)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.005693)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000873)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001896)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 7 WHERE id = 9[0m
  [4;35;1mCategory Load (0.002123)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002115)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000542)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000947)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002727)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.001762)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001224)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000752)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001937)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 11 WHERE id = 12[0m
  [4;36;1mCategory Update (0.002084)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 10 WHERE id = 11[0m
  [4;35;1mCategory Load (0.001491)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001494)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002827)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001632)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001534)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001926)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Update (0.005495)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001330)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000920)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001604)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.003166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001807)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002588)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001890)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.002133)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002216)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001110)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001525)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000837)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002193)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 15 WHERE id = 16[0m
  [4;36;1mCategory Update (0.002345)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 14 WHERE id = 15[0m
  [4;35;1mCategory Load (0.001817)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001693)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001675)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001475)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.003398)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002321)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000838)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001802)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002571)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001608)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002894)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001121)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001124)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001370)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.001301)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001252)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000659)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001589)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 19 WHERE id = 20[0m
  [4;35;1mCategory Update (0.002151)[0m   [0mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 5, "parent_id" = 18 WHERE id = 19[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001675)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002975)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001969)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.002607)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;35;1mCategory Load (0.002627)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.002207)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001064)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000993)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001599)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b_xx', "rgt" = 6, "parent_id" = 19 WHERE id = 21[0m
  [4;36;1mCategory Load (0.001972)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.004730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001489)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002048)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000533)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000421)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001220)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000889)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001294)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001143)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001348)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001309)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001215)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002313)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 4, "parent_id" = 23 WHERE id = 24[0m
  [4;35;1mCategory Update (0.002128)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 23 WHERE id = 25[0m
  [4;36;1mCategory Update (0.001752)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 7, "parent_id" = 22 WHERE id = 23[0m
  [4;35;1mCategory Load (0.002875)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002839)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.003541)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001439)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001181)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001031)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.003102)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.002022)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001295)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001076)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001692)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001770)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.004070)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001066)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001214)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002573)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.025784)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.017875)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001123)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.006077)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002275)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001592)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001906)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001354)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001470)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001347)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.003150)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Update (0.002178)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002587)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001907)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000815)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002268)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001155)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002540)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001345)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Update (0.002425)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.002131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000949)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001803)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002259)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.001960)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001670)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.001173)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001588)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001497)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.003078)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001139)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001792)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001640)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001796)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001246)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.002884)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001628)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002330)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Update (0.002882)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.005011)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001526)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000528)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001317)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.002126)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001227)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.013507)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001322)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001391)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002159)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001880)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child2', "rgt" = 5, "parent_id" = 36 WHERE id = 37[0m
  [4;36;1mCategory Create (0.001241)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001196)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001787)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1a', "rgt" = 6, "parent_id" = 35 WHERE id = 36[0m
  [4;35;1mCategory Update (0.001707)[0m   [0mUPDATE categories SET "lft" = 7, "name" = 'child1b', "rgt" = 8, "parent_id" = 35 WHERE id = 38[0m
  [4;36;1mCategory Update (0.001904)[0m   [0;1mUPDATE categories SET "lft" = 2, "name" = 'child1', "rgt" = 9, "parent_id" = 34 WHERE id = 35[0m
  [4;35;1mCategory Load (0.001710)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001446)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002331)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001671)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001604)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.004055)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.005433)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001788)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002168)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001912)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001644)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.004348)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.003755)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001835)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000948)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000442)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.013987)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.030089)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009229)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014783)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009688)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002477)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000620)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.008355)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006261)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001617)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001508)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001845)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001171)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001130)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001357)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002555)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002888)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001947)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002960)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003708)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001357)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001119)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001738)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001647)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000616)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000756)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002413)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000939)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001305)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000964)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001284)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.002213)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003070)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001471)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.003081)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001516)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002175)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002991)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001298)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000665)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001608)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002789)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002305)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000845)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001344)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.004619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001439)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002388)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000729)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001868)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001633)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001653)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001439)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.002337)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001184)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000684)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001916)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002138)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001635)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001705)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000936)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000628)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001387)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001843)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002313)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000647)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001728)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000695)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001505)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002044)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001400)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001825)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000936)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002092)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001786)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001876)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001897)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001616)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001107)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001167)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000946)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001354)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001982)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001866)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001688)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001775)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.002736)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001767)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001193)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000665)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001691)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001611)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001689)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000728)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000417)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001295)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001334)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001134)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001480)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000972)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001250)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002045)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002791)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001756)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000526)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000416)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001583)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001325)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001733)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001836)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002416)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001232)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001898)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002632)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002382)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001074)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000933)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001792)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002054)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001462)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000950)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002814)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001561)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001848)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001580)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001341)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001207)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002383)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002438)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001621)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000575)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001145)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002662)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001555)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002477)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001029)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001068)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001663)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002516)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.003143)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001710)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000982)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001685)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001681)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002555)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000866)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000756)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001554)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002053)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001391)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001288)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001996)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.013390)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001627)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001866)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.001231)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000769)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001283)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001037)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001700)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001693)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.002355)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001961)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001009)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001226)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000773)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002915)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001863)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002980)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001674)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001503)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.006538)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001566)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002190)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002094)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001789)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001684)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001929)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000632)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000444)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.016414)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.047680)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010438)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014815)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.048481)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002955)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.001341)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004380)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007970)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001221)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001233)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001138)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001338)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002367)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001737)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002919)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001875)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002089)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002449)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.002712)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001412)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001153)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002013)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001744)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001886)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000977)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000762)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001320)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000964)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001297)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001138)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001954)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001776)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001441)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001877)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002991)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001703)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001747)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001769)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.005245)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001492)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001297)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001552)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.002781)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001783)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000482)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001346)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000880)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002523)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.006217)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001500)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002328)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002663)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001471)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001775)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.002403)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001224)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000985)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001718)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.005159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001839)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001457)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001643)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000511)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001084)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001645)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001171)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001087)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001432)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002222)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001803)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002225)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001934)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001785)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001287)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000732)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002503)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001559)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002344)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.003630)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000577)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002055)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001011)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001940)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001085)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001753)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001720)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002079)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.003148)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002006)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001648)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002352)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000956)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000984)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001585)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002545)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000421)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000958)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001294)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001097)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000929)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001361)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000929)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.004226)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.002022)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001674)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001673)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002709)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000761)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000429)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001298)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001444)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001741)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001317)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002068)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001283)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001158)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001695)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.004026)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.001813)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001185)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000752)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.008408)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001935)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002337)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001163)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.001652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001960)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001643)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001567)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001315)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001623)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.003125)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001705)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001685)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001489)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.001507)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000864)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001717)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002340)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001198)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000650)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002659)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002033)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002690)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001136)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000996)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002329)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001263)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.003055)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001286)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.002029)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001604)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001755)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002351)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002117)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001476)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001688)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002054)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001735)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001575)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000527)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000412)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001306)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000852)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001665)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.002295)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000753)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002524)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001201)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001056)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000722)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002739)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002762)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002717)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.004252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.003315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.004712)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.003183)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002363)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002257)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002822)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.005466)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002674)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000609)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.020810)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.055548)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.044880)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.016349)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010530)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002460)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000390)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003970)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008105)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.003003)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000868)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001523)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000730)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002151)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000772)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001822)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001869)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002297)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001494)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.002997)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000941)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001296)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001586)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002557)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002096)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000543)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000469)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002015)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000936)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001227)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001188)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002906)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002067)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001581)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001601)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001796)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001603)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002599)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001825)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.003212)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001228)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001170)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.002019)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.003067)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002989)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000985)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000424)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001238)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000985)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002486)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000964)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002483)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001284)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001840)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001970)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001933)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001432)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002410)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002232)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.003304)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001082)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000842)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001560)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002022)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002998)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001762)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.002859)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000473)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001433)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000727)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001250)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001324)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.005033)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002578)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001265)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000899)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002588)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002871)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001851)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002958)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000753)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001145)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001493)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001428)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001162)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001641)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001996)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001585)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001734)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001852)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002423)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002383)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.002422)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002006)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001705)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002608)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001390)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001233)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002152)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001682)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003392)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001034)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003703)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001012)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001336)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000923)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002002)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002278)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002763)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001900)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000993)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000459)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001370)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000919)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001707)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002013)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002277)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000695)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002001)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.004741)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002172)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001128)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001843)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.003898)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001176)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.001095)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002325)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002805)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001531)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001694)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001312)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001173)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002488)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001920)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000583)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002924)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001840)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001476)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002009)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001402)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002418)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001533)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.003087)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002933)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002122)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.002095)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000831)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001962)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002887)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001283)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001271)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003116)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001802)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001556)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000806)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000434)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001325)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001513)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001179)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000821)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001496)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000857)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001371)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001516)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001203)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001739)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001713)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.003432)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002114)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001788)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002014)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001872)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003602)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.002612)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001913)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001545)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001767)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.005396)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002766)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000603)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.013724)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.060165)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.008530)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.045781)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011209)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.034847)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000500)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003712)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007128)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001260)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001079)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001703)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001301)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000989)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002016)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.003295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001785)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002557)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003926)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001151)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001667)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002611)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001512)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.001635)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000840)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002526)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.007657)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001226)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001181)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001785)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001745)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001951)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001374)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001947)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002475)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.003153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002523)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001565)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000892)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001604)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001773)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001757)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000724)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000400)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001629)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001829)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001532)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000953)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001773)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002029)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001530)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.003181)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002532)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001031)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001666)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001887)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001765)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001699)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000731)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000447)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.008150)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001069)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001375)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001494)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000927)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002596)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001598)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.006810)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003331)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001251)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001804)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002108)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000903)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001682)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001881)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000872)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001763)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001825)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002468)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002222)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002532)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002199)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002567)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.000992)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001797)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001604)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000526)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001014)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001121)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000962)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001315)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001248)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.003063)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001103)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.002145)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001967)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.003436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.003284)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000810)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000410)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001132)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000690)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001720)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002244)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000858)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005998)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001966)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001542)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001043)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002081)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002219)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001240)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.001707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001735)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.000873)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001202)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001259)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002588)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001217)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001304)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002022)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.003173)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001764)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000879)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001678)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001634)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001504)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.001020)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001450)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002991)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000786)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001310)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001166)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000888)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001968)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001299)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000934)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001202)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001426)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001402)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001781)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001838)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002584)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001443)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001536)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002770)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003274)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.002049)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001902)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.004158)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002116)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002435)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001680)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001667)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.001292)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001563)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.017606)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.047908)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009118)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.053786)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.035716)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003288)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000392)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003608)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007461)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001386)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001362)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001232)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000952)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001798)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002238)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001877)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002934)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001330)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000664)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001880)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001816)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.001082)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001413)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001105)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001529)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001248)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.007568)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002334)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002573)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002689)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001624)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001662)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002252)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001280)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000864)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001943)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001568)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001394)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000471)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001699)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001127)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001511)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001142)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001833)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.004354)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001850)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.004195)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001659)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001029)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001331)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001676)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002601)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000506)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001380)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000660)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001068)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001205)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001128)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001438)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001625)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002239)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001105)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001020)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001757)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001874)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002056)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000776)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000721)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001522)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000894)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001191)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000874)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001583)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000966)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001567)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001516)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001994)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001497)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001822)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002043)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001341)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001194)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002337)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002009)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.004228)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.001056)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000392)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001520)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000655)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001305)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001017)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001322)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001217)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001168)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.002552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001583)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001707)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001668)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001880)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000848)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000521)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002063)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001369)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002049)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002294)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002603)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001096)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001832)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002284)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001049)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002582)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001068)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.001288)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001790)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.006494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001273)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001970)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.003870)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001253)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000987)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001779)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002354)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001828)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000862)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002990)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001274)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000873)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001966)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002273)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002042)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000430)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001237)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.002053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002374)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001344)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001173)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001129)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001195)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001235)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001626)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000714)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001957)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001742)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.003379)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001795)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002330)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001982)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.007355)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001427)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001845)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001998)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001604)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001760)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001513)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001704)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000800)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000336)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000320)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.024570)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.020185)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.052798)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014082)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010492)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002216)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000426)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003626)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.020872)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001220)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001013)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002079)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000946)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001599)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.002084)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001745)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002358)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002750)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002859)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002313)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000685)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002110)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002960)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001546)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000784)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002890)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001519)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000981)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001226)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001998)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001805)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001734)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002558)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002267)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002362)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001456)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.001067)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002405)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001431)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000749)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000761)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001385)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000711)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001361)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000793)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001225)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001113)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001571)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002362)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001739)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.004179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002427)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001198)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000864)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001617)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001700)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000619)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001769)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000881)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001115)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.002115)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001177)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000763)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001812)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001758)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001668)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003035)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001245)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001845)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002566)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002106)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001639)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000988)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001397)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001303)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001406)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000674)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001372)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000651)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002090)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002748)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001245)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001832)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001510)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002021)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001400)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001146)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001447)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001533)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.004099)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000840)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001288)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000993)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001172)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001132)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000925)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.009372)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002807)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000931)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000917)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001198)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001013)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002164)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Create (0.001212)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000972)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001445)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Create (0.002130)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000758)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002143)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Create (0.001414)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.006235)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002606)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.003274)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001884)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000878)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000532)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002274)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000770)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004645)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Create (0.001080)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000870)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.032731)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Create (0.001647)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.007287)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Create (0.001186)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;35;1mSQL (0.001047)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001683)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002754)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001880)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001660)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.001068)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000472)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001485)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000681)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002048)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000927)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001065)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001019)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.008141)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001061)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001200)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001072)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001879)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001710)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001983)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001993)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001734)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003151)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001679)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.003296)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.006538)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002378)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000964)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000393)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.014253)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.020970)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.052723)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.012960)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.016727)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001967)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000385)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004361)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008884)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001646)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001102)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001300)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000843)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001347)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002512)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001887)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002232)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001440)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003076)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.003811)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001951)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002291)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.001494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000434)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.003488)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001711)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001217)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.007877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001071)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002470)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.008169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001505)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001632)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001460)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.003125)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.003082)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002036)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002431)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.001263)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002055)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001534)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002608)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000803)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000392)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000695)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001761)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001957)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000984)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001818)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001286)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001529)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001647)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002446)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001483)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002402)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001442)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001628)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001753)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000464)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001186)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002403)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001080)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001582)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000673)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001640)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001838)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001491)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002597)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000941)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001216)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002957)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001654)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.003435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000533)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001586)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002395)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000842)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001095)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001946)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001680)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002777)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001457)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001651)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002900)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001356)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002031)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001755)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000828)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000420)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001559)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000950)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001190)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000861)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002473)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001261)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001680)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001746)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002457)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001090)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001939)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001290)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001564)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002412)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001188)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000880)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001875)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.003397)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001511)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000906)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002181)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.003443)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002186)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.000943)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002061)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001771)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.001024)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001416)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000919)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002457)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002832)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001409)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001712)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.003119)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001404)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001098)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.037018)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.003039)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001983)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001597)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002566)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001040)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001848)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000974)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.006871)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.006944)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000964)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001131)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000836)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001199)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001742)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001817)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001768)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002328)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002087)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002579)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003569)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001991)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001492)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002564)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002032)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001871)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001547)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000974)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.028420)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.026853)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.053066)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.012748)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010238)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003085)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000553)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.014239)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007880)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001091)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001233)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001596)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001182)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001652)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001036)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004482)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001595)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002016)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001762)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001687)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003679)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001207)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001183)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001624)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001603)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000772)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000749)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001746)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001520)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001150)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002127)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002379)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001540)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001558)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002404)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002429)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001284)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.001116)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001301)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001976)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000641)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001069)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001160)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000851)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001358)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001142)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002010)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001722)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002875)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001965)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.003215)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001603)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001041)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002717)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001413)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001624)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001794)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.002767)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000427)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001345)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000838)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001759)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001041)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001754)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001265)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001810)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003171)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001141)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001079)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001802)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002042)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001583)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001103)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001080)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001334)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001339)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001530)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001599)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001953)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001486)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002386)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002614)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 1 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 1 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001392)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001067)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001863)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001576)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002134)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000740)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001667)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002070)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000877)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002526)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000912)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001257)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001812)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000902)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001984)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001843)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002284)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001990)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.001555)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001070)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002214)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000843)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001724)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Create (0.001441)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001548)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002095)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Create (0.022633)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.002546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.008288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Create (0.001588)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.000862)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002375)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001580)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.002049)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.001981)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000812)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001242)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001737)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Create (0.001841)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000687)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001940)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Create (0.001059)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001156)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002598)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Create (0.000949)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;35;1mSQL (0.001072)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001983)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002143)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002366)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.002788)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000460)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001134)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001222)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001276)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001852)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001389)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001021)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001428)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000741)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.003854)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001877)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002639)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.003998)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.005586)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.003099)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002510)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001593)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002570)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001242)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002876)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.001318)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000790)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000699)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.015110)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.052800)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.066605)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.041193)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.048123)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002685)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000346)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003862)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007952)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001384)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001110)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001349)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.010252)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.005821)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001752)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002930)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001591)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.003021)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003781)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 5 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 5 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000958)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001552)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.003502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000690)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001209)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001340)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.002292)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001140)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.004541)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001571)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002923)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001396)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.008957)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.003543)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 5 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 5 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002132)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001512)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000545)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000726)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001466)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000688)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001095)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001252)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001027)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005612)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001677)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002577)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001536)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001778)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.004850)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 5 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 5 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001170)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001773)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001750)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001650)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001827)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000442)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001275)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000988)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001139)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001046)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.006020)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001248)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002459)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002274)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001624)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002075)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 5 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 5 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001812)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000952)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002673)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001883)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001744)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.001153)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000421)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001298)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001357)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000754)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001814)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001458)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002363)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001423)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001854)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.004650)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 5 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 5 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001674)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001152)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001668)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002076)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.002141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001903)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001266)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001425)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000747)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002613)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000750)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001063)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000696)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001653)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002976)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001772)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002781)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000830)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000433)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001478)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001139)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002242)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002968)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001144)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001611)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002624)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001296)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002562)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001888)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001230)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.001350)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001717)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002040)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001709)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.031212)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000420)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.005181)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001136)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002676)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002572)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001236)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001175)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002049)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.004617)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 3 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 3 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001823)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001045)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002473)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.029698)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.005949)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.021880)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.007227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002539)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000651)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001347)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001073)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001198)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000631)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001650)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001074)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001339)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000746)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001390)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002492)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001653)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001474)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001859)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001663)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001441)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.005260)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001386)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002357)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001780)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001969)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001904)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001433)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000444)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.024914)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021175)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009823)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.048432)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010042)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002460)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000319)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003496)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008254)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001187)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.013890)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001128)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.004727)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001679)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001725)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001956)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001959)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Create (0.001277)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002979)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001555)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000815)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.004687)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001260)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.006711)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001124)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001117)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001383)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001229)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001812)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002021)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002325)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001579)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002164)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002156)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002971)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Create (0.001275)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;35;1mSQL (0.001148)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001906)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001491)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002493)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000794)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000399)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001368)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001978)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001134)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000995)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001319)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000940)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001789)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001719)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002488)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001792)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;36;1mSQL (0.001228)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.002545)[0m   [0mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002749)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001777)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001703)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002085)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000790)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001450)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001965)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001147)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001675)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001660)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001475)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002324)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001880)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001660)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Create (0.001294)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002275)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002087)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001712)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001809)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000919)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000716)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001345)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000990)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001156)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001358)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000980)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001880)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001728)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002638)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002587)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;35;1mSQL (0.001630)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002432)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.002355)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002467)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001134)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002051)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001223)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002402)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000928)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001570)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001217)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001126)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001746)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001628)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001754)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001725)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001883)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.001255)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000947)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001495)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000694)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001556)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Create (0.001240)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001224)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002296)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Create (0.001292)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000874)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002390)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Create (0.001224)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.001033)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001981)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001670)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001907)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000680)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000962)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001434)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.002140)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002401)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Create (0.001326)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001288)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001596)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Create (0.001126)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000882)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Create (0.001108)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;35;1mSQL (0.000860)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001908)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002697)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.005891)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000938)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000876)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001345)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001201)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001485)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001016)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002275)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000927)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001986)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001924)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001096)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000939)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001821)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001501)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.003405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002356)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.005339)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.002068)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001810)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002223)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002878)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.005380)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001822)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002688)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000905)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000579)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.014438)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.051408)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.023407)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.054650)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.012487)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002149)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000968)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.015443)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.009384)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001067)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001983)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001648)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001282)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002273)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001519)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001645)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001926)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003190)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001592)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001143)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001747)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001560)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001950)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000539)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.011789)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001399)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002332)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001395)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001260)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001221)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002101)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001648)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.003187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002279)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.003241)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001940)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001946)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001285)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000839)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001646)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002547)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001766)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000407)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001509)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001428)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001712)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001056)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001112)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000731)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001535)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002440)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002117)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002329)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001716)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001859)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001789)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001503)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001866)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001649)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000918)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000744)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001137)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000866)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001338)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000762)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001780)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.009601)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002684)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001397)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003221)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001531)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001824)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001594)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001826)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002327)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000517)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000814)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002099)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001027)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001184)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001101)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001077)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001614)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001718)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001765)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002724)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002164)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003249)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 6 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 6 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001194)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001155)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001483)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001603)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.002454)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000841)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001661)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001156)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001252)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000887)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002850)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000726)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001264)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001970)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.003191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001733)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001859)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000878)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000786)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002170)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000972)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002645)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001082)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001016)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001957)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002307)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001281)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000949)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001807)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002241)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 8 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 8 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001099)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.008720)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002751)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001832)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.000813)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000980)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001691)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.003070)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001254)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002651)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.008827)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 4 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 4 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.020731)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001659)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 8 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 8 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001196)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004645)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.003168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000530)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001100)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001006)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.002334)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.006475)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000888)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000928)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001123)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001665)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001690)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.007587)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.004996)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001446)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002726)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002431)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002919)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001787)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000386)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000674)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.020320)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.022464)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.050435)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014123)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.015932)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002039)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000602)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004967)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007204)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001113)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001897)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001391)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000653)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003568)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001519)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002799)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001769)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002324)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001387)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004189)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001019)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000700)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002248)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000654)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000956)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000906)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001522)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001884)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001587)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001482)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002018)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002229)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001829)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001432)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.002321)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001660)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001166)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003710)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001639)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001657)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001473)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.001113)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001338)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001052)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002405)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001036)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001193)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.002336)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002885)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001889)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001591)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001803)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001577)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.001882)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000649)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001921)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001858)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001458)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001815)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001672)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.001889)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000729)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001164)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001129)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001724)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000867)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001208)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001374)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001252)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001522)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002117)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001453)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002889)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001323)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000935)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001989)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001522)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002778)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001850)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000944)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000442)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001255)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000978)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001232)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001198)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001343)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000753)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002908)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001459)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001498)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002061)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.003288)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002336)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001547)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000869)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001886)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001932)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001799)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001521)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.002403)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000999)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001744)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000940)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001436)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000652)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002041)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001114)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001397)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000949)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002604)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001763)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001601)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001300)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000936)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002093)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001482)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002237)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.002564)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000727)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002338)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001123)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.001823)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001231)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001098)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002542)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001516)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.003322)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001148)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000860)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001642)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001440)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002849)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001725)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001726)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001247)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002810)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002623)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001552)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.003404)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000604)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001019)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001400)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.002546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001577)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.001971)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001349)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000749)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001697)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001574)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002344)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001244)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001939)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.003114)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.001813)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001635)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000896)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002019)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001943)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001563)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001390)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001494)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.004325)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001759)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002074)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.001451)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000403)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001542)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001174)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001190)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001569)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000798)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001272)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000959)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001240)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000826)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001831)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002613)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001653)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001653)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001845)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.007655)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.002069)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001777)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001975)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.004591)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001810)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001718)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.002051)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.018054)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.047711)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.048935)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013870)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.045145)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002540)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003704)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.020038)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001259)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001156)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002705)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001329)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001104)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.002007)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002371)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002004)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002070)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001801)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002806)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001066)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001996)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001590)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.001577)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001995)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000827)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003505)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001449)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001106)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002820)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001712)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001833)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001667)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002274)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001283)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002258)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.004631)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002310)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001869)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002898)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000853)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000617)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.005053)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001003)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001301)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.002078)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002406)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000943)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001587)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.003299)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002649)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.004517)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001072)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002009)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001991)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001702)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001786)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000659)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001389)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001104)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001190)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000653)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001312)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000995)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002974)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002206)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001638)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002902)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001594)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.002338)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001984)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001774)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001526)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000524)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001738)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001117)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001074)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001250)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000736)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002449)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001707)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001727)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001644)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002895)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002233)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.004208)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001807)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001664)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001820)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000879)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000470)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001184)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000638)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002444)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001110)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002436)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001005)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001460)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001747)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001748)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002777)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002262)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000545)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001699)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001144)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001770)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002362)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001110)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000924)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002876)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002568)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001147)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000712)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002027)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.003119)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002716)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.000768)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001943)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001700)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001812)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.000532)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000664)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001164)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001049)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001819)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001953)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001496)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001128)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001793)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002300)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001659)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001056)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002216)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.004227)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000708)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002526)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001659)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002766)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.001045)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000664)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001372)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001038)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002029)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000757)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001120)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000889)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001157)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001155)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000837)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002698)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001522)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002552)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001964)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.003192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.004079)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001970)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002428)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002447)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001780)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001590)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002069)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002390)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000994)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000726)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.012800)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.037652)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.008577)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.016064)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.043194)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002049)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005055)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.019262)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001545)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001138)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001297)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.002097)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001194)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001168)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001799)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002021)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003021)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001702)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002865)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001036)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001026)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001716)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001420)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001687)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000545)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000936)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001656)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001790)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001124)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001207)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001292)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001103)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002485)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001817)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002769)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001476)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001741)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002055)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002590)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001684)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001703)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001673)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.001533)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000640)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000934)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001238)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001852)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001303)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001239)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002304)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002003)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002447)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002659)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002182)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001289)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000998)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002834)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001656)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001856)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002601)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000615)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001143)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001144)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001554)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001424)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000693)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.003399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003494)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001101)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000713)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001570)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002519)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001525)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000730)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000454)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001464)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.002798)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001850)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001934)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001948)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001493)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001822)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002928)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001290)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003582)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001536)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001075)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001246)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001918)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002671)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000736)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002487)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001119)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002166)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001090)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002311)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000972)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001220)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001162)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001765)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001701)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002124)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000628)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001389)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001382)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001842)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002167)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001667)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.001027)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002692)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002536)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001027)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002938)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002237)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.002197)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001715)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001977)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001289)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000925)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001919)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001813)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001113)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001363)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001692)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002122)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001183)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000699)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002800)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001963)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001412)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001484)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001960)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.001149)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000410)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000729)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001120)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001385)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001146)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001014)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001157)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001006)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002970)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001192)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002013)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002294)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.008462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001987)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003582)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001650)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001748)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001580)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001569)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001393)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000395)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000707)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.030677)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.024569)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009457)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.056968)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014606)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001945)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000383)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004408)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008875)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001303)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001300)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001149)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001067)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002264)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001017)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001741)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.005352)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002276)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002251)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001307)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001989)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001443)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001914)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.001019)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001664)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001509)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000843)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001162)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001262)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001424)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.010780)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001713)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001544)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002410)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002450)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.003011)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.006863)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001132)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000782)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001801)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001604)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000864)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001210)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001979)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001070)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001305)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001040)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001076)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001498)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001456)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001696)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002396)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001979)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001664)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002315)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001692)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001876)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001688)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001609)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.003306)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000408)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001154)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001189)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001068)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001356)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.002321)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.003100)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001453)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001373)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001918)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001494)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001764)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000569)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001085)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001268)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001380)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000960)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002612)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002072)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001947)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001366)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001902)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002475)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001087)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001007)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001748)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002400)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000654)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001208)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001190)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001807)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.003467)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001148)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 23, 4)[0m
  [4;35;1mSQL (0.001235)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001751)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 5, 23, 6)[0m
  [4;35;1mSQL (0.000964)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001702)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002109)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000563)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000532)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001099)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001728)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002134)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001445)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001002)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001879)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002369)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.001081)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001594)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002227)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001254)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.002125)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001813)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002121)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001835)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.001718)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000832)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001150)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001689)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001844)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.003371)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001081)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000929)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002039)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.003233)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001213)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000936)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002813)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001089)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000861)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002889)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001593)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002860)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.002250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000909)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001319)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001466)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001430)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001083)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001626)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000907)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001157)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001465)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.001154)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001680)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001508)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001813)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001833)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003674)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001769)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001590)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002109)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.003792)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002518)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002632)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000860)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.032391)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.025266)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009406)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.055198)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011158)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004255)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000388)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005654)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008448)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001253)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000903)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001028)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001944)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002626)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002195)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002475)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003689)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001306)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000835)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001641)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000756)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.012158)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000818)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000957)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001195)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001162)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000987)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002121)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002335)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001531)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001591)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001575)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001900)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.015033)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002182)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001562)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003077)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000817)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001339)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000880)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001210)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000685)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000946)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.003184)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001560)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002023)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001761)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002050)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001913)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001191)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001305)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001822)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001583)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001823)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001825)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000520)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000624)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.008706)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000940)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001546)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001065)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002125)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001112)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001962)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002553)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001636)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002537)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001179)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000650)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000788)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000458)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000937)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001499)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001283)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001215)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002267)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000901)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001995)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002370)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.003208)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002508)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002655)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001312)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001404)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001971)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.003437)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.001173)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000944)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002357)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000733)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.007606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001579)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 23, 4)[0m
  [4;35;1mSQL (0.001151)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001546)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 5, 23, 6)[0m
  [4;35;1mSQL (0.000657)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002048)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.003357)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.004064)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001059)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000902)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001684)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000883)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.005055)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002644)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001635)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.002017)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001975)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.007261)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002070)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.000867)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001805)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001840)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001259)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001007)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.003035)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002530)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001692)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.002316)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002145)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001690)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000688)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002357)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002185)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001271)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.002626)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002368)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002110)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001137)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.001186)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001937)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.030632)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft > 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.008529)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001111)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003720)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002273)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002307)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001966)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000801)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000395)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001344)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001098)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001181)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001945)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001193)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001322)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001181)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001152)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000893)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001965)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001718)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001570)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002026)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001769)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002602)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003675)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.002620)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002442)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001679)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002110)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001996)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000816)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000439)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000472)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.015328)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.049351)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.020340)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.038592)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010568)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002123)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000549)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003831)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008262)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001039)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001943)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001202)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001175)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002101)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001828)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002097)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001815)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001481)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002881)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.001053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001660)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002340)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001831)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000765)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001358)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000904)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001784)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000978)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001207)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001017)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001838)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.011658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002145)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002247)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002544)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.002081)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002569)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001672)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001706)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001805)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.002323)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000428)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001444)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000966)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000889)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000869)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001665)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001776)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002080)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001957)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001722)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001967)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001921)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.005525)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001124)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000690)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001936)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001487)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001708)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.001386)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000405)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001199)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000997)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000883)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001250)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001171)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001425)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001661)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001245)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001570)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002580)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001248)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000666)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001973)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001611)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001496)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.001812)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001112)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001722)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000732)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001109)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000992)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000980)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000926)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001921)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002143)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001820)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.004629)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001947)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001243)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001275)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003074)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001795)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001917)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000525)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000636)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001066)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001658)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001054)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001982)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 23, 4)[0m
  [4;35;1mSQL (0.000754)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001695)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 5, 23, 6)[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001748)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001862)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002523)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000795)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001545)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001106)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002318)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001555)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001686)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002097)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001247)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.001851)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002997)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002007)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001035)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001687)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001814)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.002690)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001271)[0m   [0mDELETE FROM categories WHERE (parent_id = 29) [0m
  [4;36;1mCategory Destroy (0.001140)[0m   [0;1m DELETE FROM categories
 WHERE id = 29
[0m
  [4;35;1mCategory Update (0.003672)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002650)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002049)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002738)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.004197)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000727)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001841)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001818)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001553)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001807)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001977)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002029)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000886)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002049)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002435)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001319)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001191)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003780)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001540)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001706)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001550)[0m   [0mDELETE FROM categories WHERE (parent_id = 33) [0m
  [4;36;1mCategory Destroy (0.001227)[0m   [0;1m DELETE FROM categories
 WHERE id = 33
[0m
  [4;35;1mCategory Update (0.003624)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001579)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001698)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002036)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000548)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001177)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001282)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001274)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001679)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.002288)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002062)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.001209)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002303)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002172)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001725)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002556)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003798)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.004043)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001888)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002862)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001865)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000518)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.004180)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000683)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.018041)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.050020)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.034103)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.056883)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.047451)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002878)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000629)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004569)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008445)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001102)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001528)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001448)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001138)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001319)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002130)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002358)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001675)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001594)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001366)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003382)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001134)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001645)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002584)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001851)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000685)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001309)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000978)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001281)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001194)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000725)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001548)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.003018)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001641)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002282)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001717)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001886)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002517)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001297)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.001102)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002820)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001760)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002951)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000669)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001911)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001257)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001278)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000651)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001932)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001243)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002893)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.004274)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002234)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001206)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.000644)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002102)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001930)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001637)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000803)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000406)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001452)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.003278)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001136)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000733)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001281)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001028)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001894)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001462)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.001788)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001229)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.001164)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002012)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000926)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001601)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002076)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001484)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.003847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001486)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.003136)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001915)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001705)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002305)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002090)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002306)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003132)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001001)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002826)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001993)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001692)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000664)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001144)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001073)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000669)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 23, 4)[0m
  [4;35;1mSQL (0.000693)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002008)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 5, 23, 6)[0m
  [4;35;1mSQL (0.003708)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001711)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001836)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001498)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000531)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001110)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000703)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002489)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.002365)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001112)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001931)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002012)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;36;1mSQL (0.000861)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003029)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002593)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001165)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000938)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001794)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002049)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001632)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.003064)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001888)[0m   [0mDELETE FROM categories WHERE (parent_id = 29) [0m
  [4;36;1mCategory Destroy (0.001293)[0m   [0;1m DELETE FROM categories
 WHERE id = 29
[0m
  [4;35;1mCategory Update (0.003583)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001532)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001673)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.001022)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000705)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001340)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001915)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001652)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002905)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001195)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004850)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001935)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001251)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.001337)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001652)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002986)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001212)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001785)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001787)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.018091)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001508)[0m   [0mDELETE FROM categories WHERE (parent_id = 33) [0m
  [4;36;1mCategory Destroy (0.001228)[0m   [0;1m DELETE FROM categories
 WHERE id = 33
[0m
  [4;35;1mCategory Update (0.002105)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001824)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001752)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002758)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.001092)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001198)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000696)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001205)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002057)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000916)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001270)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.002547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001203)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.001333)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001782)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001577)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002475)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003548)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.003069)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002007)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002602)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.005601)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001818)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001996)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000970)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001666)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.014283)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.070238)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.059582)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.120835)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.021719)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002438)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000561)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005059)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007544)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001099)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001100)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001096)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001138)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001493)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000885)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002254)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001648)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001612)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003042)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.004698)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001143)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 3, 4)[0m
  [4;35;1mSQL (0.000658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005437)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001635)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.003143)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mSQL (0.000561)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.003094)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001195)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000690)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002739)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001050)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001197)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002029)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001690)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002276)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.006277)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001734)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001453)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001965)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002352)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001169)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 7, 4)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002476)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001959)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001855)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000767)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000650)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001072)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001199)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001504)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001061)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001073)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003847)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001802)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002846)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001654)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002518)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002096)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001514)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 11, 4)[0m
  [4;35;1mSQL (0.001044)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002422)[0m   [0;1mUPDATE categories SET "lft" = 3, "name" = 'child1b', "rgt" = 4, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001712)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.002519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002050)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000779)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000410)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001274)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000953)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001130)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000897)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001506)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001129)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001532)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001888)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Update (0.002769)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001097)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 15, 4)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002980)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001634)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001498)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000566)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001233)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001509)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001252)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001002)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001685)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002493)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.003547)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001627)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001528)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002803)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000935)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 3, 19, 4)[0m
  [4;36;1mSQL (0.001510)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002090)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002572)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000647)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001176)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000898)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001330)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000973)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001310)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001202)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001410)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002811)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001867)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.003833)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.002362)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000425)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001390)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001821)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002051)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.006136)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002608)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000749)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001275)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.003043)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001245)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.002059)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001813)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002282)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.000895)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001729)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001671)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001603)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mSQL (0.001204)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001142)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001673)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002047)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001929)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.002799)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001323)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001619)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001893)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002036)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000650)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001713)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002186)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001129)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001906)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002784)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001721)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000893)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001321)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000759)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001543)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001131)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001132)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001072)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.003170)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001623)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001694)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001610)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001804)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001916)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001838)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003152)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001925)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002072)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002407)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001885)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002816)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002325)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001808)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000559)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001776)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.013553)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019173)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.052534)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.061852)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.043551)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002544)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000667)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003533)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007319)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001194)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001102)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000987)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001448)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001252)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001999)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001668)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002346)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002827)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002159)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003021)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001227)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001237)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001698)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001638)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002523)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001708)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001314)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001471)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000929)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001568)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001116)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001179)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000955)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001608)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001579)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002329)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002203)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.002847)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002511)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.001911)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001355)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000915)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001712)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001712)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001795)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000509)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001229)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001984)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001343)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000724)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001704)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001153)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001717)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001875)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002174)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001643)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001461)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.002107)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001239)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.001053)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001814)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002605)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001453)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001601)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000741)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000483)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001388)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001828)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001076)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000914)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001084)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001753)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002858)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001695)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002296)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.002293)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001758)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001757)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000703)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000833)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001234)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.003168)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001179)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001120)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001174)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001197)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001921)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002369)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001530)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.003212)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002775)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001192)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000877)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003086)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002467)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001441)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002089)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001033)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000423)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001613)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001089)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001558)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000931)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001222)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001162)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001243)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001975)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001514)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.001128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000411)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001250)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000910)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001592)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001616)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002133)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001593)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001842)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001804)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001369)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.001908)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001131)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001108)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001638)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001372)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002763)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001168)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000682)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001741)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002032)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.003103)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001965)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001150)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002664)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001538)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001706)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.001191)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000937)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001483)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001138)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001950)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001387)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.001745)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001104)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001023)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001997)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001758)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002820)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001278)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001094)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002558)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002293)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001403)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000708)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001783)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002932)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001753)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002910)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001414)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001178)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003108)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001924)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002593)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001524)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000782)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001020)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001450)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000925)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001370)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001796)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001143)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001031)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001148)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001524)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000807)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001848)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002946)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001836)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002700)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.004886)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001670)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.003220)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001476)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001887)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002097)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001410)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001877)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.001733)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000618)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000516)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.014647)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.053119)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.057914)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018460)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011082)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003099)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000330)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005112)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.009407)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001401)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001150)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001278)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001182)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001174)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003603)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001764)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002490)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001552)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001835)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.004241)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 4) [0m
  [4;35;1mCategory Create (0.001109)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 4, 3, 5)[0m
  [4;36;1mSQL (0.000731)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001850)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001900)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.002804)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mSQL (0.000796)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000434)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001996)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000656)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001152)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.001055)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.001011)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001461)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001746)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001611)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.002521)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.002955)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.002506)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002152)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Update (0.001823)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 4) [0m
  [4;35;1mCategory Create (0.001161)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 4, 7, 5)[0m
  [4;36;1mSQL (0.000963)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002734)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001546)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.003327)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000631)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001255)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.003632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001226)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000791)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000865)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002292)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001493)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001729)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001445)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001363)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.001994)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 4) [0m
  [4;35;1mCategory Create (0.001162)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 4, 11, 5)[0m
  [4;36;1mSQL (0.001015)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001530)[0m   [0mUPDATE categories SET "lft" = 4, "name" = 'child1b', "rgt" = 5, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001680)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002589)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.001384)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000511)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001543)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001103)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002420)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001082)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001283)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001212)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001701)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001701)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001722)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001770)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;35;1mCategory Update (0.002227)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 4) [0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 4, 15, 5)[0m
  [4;35;1mSQL (0.001193)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001808)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.002028)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001598)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000874)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001304)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001334)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001222)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001188)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001388)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001644)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002952)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001279)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001594)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002331)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 4) [0m
  [4;36;1mCategory Create (0.002624)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 4, 19, 5)[0m
  [4;35;1mSQL (0.000984)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001535)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001584)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000763)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000413)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001333)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000894)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001133)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001275)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.001386)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002504)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001736)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.002573)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001291)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000466)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001647)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001014)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001419)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Update (0.001890)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 1 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 1 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 1) [0m
  [4;36;1mCategory Create (0.001805)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 1, 26, 2)[0m
  [4;35;1mSQL (0.001339)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001460)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.001427)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 1 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 1 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 1) [0m
  [4;35;1mCategory Create (0.000944)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 1, 27, 2)[0m
  [4;36;1mSQL (0.001468)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002773)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002128)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.003099)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001822)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 27, 4)[0m
  [4;35;1mSQL (0.000902)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002725)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mSQL (0.000741)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001142)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001062)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002911)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001756)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002459)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 1 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 1 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 1) [0m
  [4;36;1mCategory Create (0.001238)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 1, 30, 2)[0m
  [4;35;1mSQL (0.001032)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002515)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001654)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002243)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 1 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 1 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 1) [0m
  [4;35;1mCategory Create (0.001318)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 1, 31, 2)[0m
  [4;36;1mSQL (0.000956)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001730)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002998)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001512)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 3, 31, 4)[0m
  [4;35;1mSQL (0.001122)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002459)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mSQL (0.002013)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001181)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000964)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001347)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000758)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002044)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000909)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002569)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000913)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001265)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.001185)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001703)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002058)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001535)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002841)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002389)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004605)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002414)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001677)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002620)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001859)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002884)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000815)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000438)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.014206)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.041740)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009760)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.016069)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.083891)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002141)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000813)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003435)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008025)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001062)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001073)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001080)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000718)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004258)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001755)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002372)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001571)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.003110)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001912)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.003602)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001439)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001100)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002518)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.002363)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001754)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001689)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.001822)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001158)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001103)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001145)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000949)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001800)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.002576)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002899)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001631)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001875)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001778)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001417)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.003528)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001578)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001681)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002497)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001415)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002628)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000952)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000996)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002015)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000825)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001917)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002603)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000723)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001644)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.003027)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001722)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002848)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001861)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002704)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.002159)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001327)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001664)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002568)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001514)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002327)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001488)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.001204)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000421)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001155)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000892)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001102)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.001385)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000855)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001526)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001913)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002499)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002033)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001384)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001889)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002047)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.012239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000931)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000682)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002264)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001025)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001433)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000859)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002675)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001158)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001488)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002325)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001776)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002080)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002857)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.002539)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.003820)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001111)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.002330)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001741)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002862)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001606)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001715)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000785)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000634)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001223)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000886)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001645)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001409)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001366)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001265)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000911)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.003145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001633)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001501)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000820)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000611)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000966)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001978)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002023)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.002000)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.002429)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000926)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002726)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001534)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002153)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.002224)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001321)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002740)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001365)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002954)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001424)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.001143)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.011789)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002781)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001878)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001405)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001183)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.003980)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002567)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001913)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.003921)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000888)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001165)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001327)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001572)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.001947)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001444)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.001945)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001896)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.003052)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002365)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001428)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001004)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.012879)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002235)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.003111)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001223)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001002)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001521)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002027)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002382)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001867)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001530)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001377)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.002274)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001878)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002717)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002296)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000933)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000640)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000824)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001759)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001546)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000773)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001987)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001110)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001127)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000796)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001877)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001797)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001695)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001901)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001937)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003783)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001744)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002137)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.002174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001991)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.003261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001525)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001522)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000756)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001274)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000427)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.015516)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.044323)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010591)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014839)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.043709)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002664)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000481)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004620)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.009211)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001631)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.002079)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001179)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000657)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000951)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000868)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002604)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002092)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001534)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001942)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001534)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Update (0.002603)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001744)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000792)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001432)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001869)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000915)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001306)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000906)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001271)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.001099)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001324)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002029)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001799)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002282)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.005363)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.003176)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001619)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Update (0.001959)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001580)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000905)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003338)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002116)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000688)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001160)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000685)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001576)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001108)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001136)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001104)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001538)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001617)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.003144)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001546)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Update (0.002003)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001300)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.001033)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001887)[0m   [0mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001611)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001876)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.001134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000498)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001302)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001342)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001328)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000734)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001167)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000665)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001835)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.002643)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001980)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002013)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001085)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000897)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001551)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002952)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002039)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000791)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001253)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001240)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001620)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000672)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001273)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001767)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001941)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001666)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.002170)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.002708)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.002017)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001478)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.001107)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002089)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001901)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001584)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000776)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001498)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001242)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000792)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001940)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001266)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001455)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001967)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001591)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.002324)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002652)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000748)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001601)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000976)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001332)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Update (0.003052)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001811)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.001026)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001781)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002678)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;35;1mCategory Update (0.002040)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001255)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000703)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001866)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001481)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Update (0.002212)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001064)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000961)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001778)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001825)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.002634)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001323)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.002145)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002454)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002958)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000818)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000681)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001014)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003407)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001551)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Update (0.002479)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001170)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002611)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002401)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;36;1mCategory Update (0.002211)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001954)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.002201)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001587)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002226)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Update (0.002252)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001337)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.001785)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001718)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001468)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002240)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.002161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Delete all (0.001987)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.001406)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.003473)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001800)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002394)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001688)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.001026)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002126)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001577)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000937)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001375)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001023)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001109)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.001137)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001344)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.001461)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001128)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000926)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001956)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002025)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001647)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001698)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001963)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Update (0.003577)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001791)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001532)[0m   [0;1mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001671)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002686)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001714)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.397436)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019780)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009085)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.049475)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.013065)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003377)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000409)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004715)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006711)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001540)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001332)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001273)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001119)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001336)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002947)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001618)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002512)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001807)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001794)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003054)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001064)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.001555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002982)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001674)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002489)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001807)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001552)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001282)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001735)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001299)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000772)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001175)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.001168)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001571)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001574)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001693)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001711)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.002103)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001671)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.004168)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001322)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002083)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001857)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001885)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002043)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.001707)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000410)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001628)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001379)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001327)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001015)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001463)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001351)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002885)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001997)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001794)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001698)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002395)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002041)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001203)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.002271)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001738)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001591)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001572)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.002439)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000798)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000790)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001714)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001147)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001100)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001991)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001228)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.002110)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002037)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002550)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002028)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003885)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001559)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.002234)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001767)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000604)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001545)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001059)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001078)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000991)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001160)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.001489)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001858)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002050)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002900)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002242)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001754)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003100)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001255)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001058)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002016)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002116)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001489)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001677)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.001652)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002982)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001331)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001535)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.002365)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.001091)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002069)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000866)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001785)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002117)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001892)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002754)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000510)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001274)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.003861)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001846)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002889)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000672)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001525)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002322)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001299)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001103)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001764)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.003090)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001285)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.001201)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001930)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.002039)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001184)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.004070)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.003585)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002552)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001738)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000975)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001186)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001398)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002111)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001116)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001064)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001960)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002371)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.002370)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000977)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001770)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002244)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001303)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001250)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002683)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001630)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002108)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001918)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001585)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.002314)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001843)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001835)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.003215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001689)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000878)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000946)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001371)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001270)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000825)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001938)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.003137)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002028)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.001043)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002069)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002830)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002735)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002649)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003260)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001787)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.003002)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001280)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001994)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002463)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002102)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001064)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000419)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.020122)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.052843)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.019967)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.043106)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011107)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001962)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000431)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004677)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.011366)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001062)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001542)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001706)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001112)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001847)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000849)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002409)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001691)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001984)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001928)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001915)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003161)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001150)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.001221)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001565)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001677)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.002394)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001701)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001767)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001314)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001133)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.001059)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001185)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.001529)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001772)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001939)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.004061)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.002300)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001353)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.002581)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001982)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001172)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000910)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003049)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001396)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001560)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002557)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000429)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001359)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001659)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000909)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001001)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001327)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001073)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001558)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002306)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.005247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.002742)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001742)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.003930)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001388)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.002266)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.006153)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001664)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002026)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001903)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000720)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000424)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001397)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002189)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.001122)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001764)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004504)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002323)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.003627)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003120)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001048)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000763)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001553)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001948)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002537)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000817)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002034)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001361)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002048)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.003454)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002511)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.002542)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001710)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002059)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001508)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002042)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001639)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003227)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001253)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001248)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001598)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001834)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.002658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002370)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000859)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000401)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001583)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000907)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002174)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.004365)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.001238)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001527)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001516)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001775)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000523)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002447)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001012)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002113)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002321)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001798)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000958)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001911)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002674)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001415)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001549)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002053)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001208)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.001021)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001811)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.002621)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002077)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.002165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001344)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001603)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002157)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002793)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.003187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000753)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000444)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001438)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001092)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001549)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002424)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001197)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001251)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001979)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002205)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001470)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001994)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001270)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001281)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002000)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.002090)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002730)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001878)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001512)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.001609)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001955)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002412)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002497)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002337)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000773)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001257)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.001258)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.004263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000719)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001636)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000790)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001173)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000924)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001233)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001691)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001790)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.006680)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.003251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001455)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002704)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.004258)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.002307)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001892)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.002929)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001861)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000481)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.198376)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (1.276587)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.075083)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.011023)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.379964)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.055387)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000318)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002487)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006645)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.013909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001136)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000907)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000576)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001655)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002077)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.026760)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000919)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000566)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000922)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000824)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001295)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000649)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001561)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001732)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001248)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000811)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001176)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000634)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001025)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000941)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001628)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001696)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000850)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000587)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001251)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001289)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001158)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002349)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001157)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000569)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001363)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001700)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000927)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000921)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000561)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002632)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001514)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001482)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001132)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000538)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000956)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000625)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000480)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001449)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000661)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001463)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001660)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001457)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000917)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001508)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001267)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001415)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001284)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000860)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002574)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.003117)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000505)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003383)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001477)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001204)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003628)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001826)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001233)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001489)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000832)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001058)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003303)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001572)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001181)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000922)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000981)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001366)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001097)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001344)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000586)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000444)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000925)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000827)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000921)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000973)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000935)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001132)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001651)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001258)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.016507)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001126)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.003489)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001302)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001206)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001620)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000581)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000355)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.011133)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.025810)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005369)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.033954)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007617)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.010812)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000286)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002434)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005303)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000769)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001120)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.005544)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002162)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002323)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000840)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.001065)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001428)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000497)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000351)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001288)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000881)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000804)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.010425)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001115)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001564)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001749)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001357)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.002269)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001576)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001415)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000611)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001467)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000965)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001420)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001475)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001336)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001315)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001262)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.009886)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.001106)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000419)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000975)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001326)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000954)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001443)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001566)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.009799)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001262)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001339)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000942)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001152)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001258)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001181)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.010390)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001500)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001584)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001659)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001861)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000531)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001174)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.001609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001038)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000804)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001516)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001275)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002742)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000840)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.008526)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001313)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001455)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000846)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001290)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.002315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001998)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000898)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002197)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.008750)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000544)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000691)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002957)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001517)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001739)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001249)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000903)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001452)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000704)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001632)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000842)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001605)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.003022)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000931)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000850)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001369)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001854)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000710)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000923)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001607)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001553)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001395)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001625)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.002374)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001420)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002323)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001100)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.008006)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001790)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001702)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001283)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000336)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000377)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.014051)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019163)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005249)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.036820)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007345)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.010169)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000366)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003035)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006982)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001102)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000874)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000719)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.008963)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001631)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001465)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001868)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001416)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000516)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000492)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000945)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000955)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;35;1mSQL (0.000568)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000868)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;35;1mSQL (0.001002)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002584)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000676)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000951)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001238)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001108)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002321)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000893)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001590)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;35;1mSQL (0.000592)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001626)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mSQL (0.000507)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000971)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000916)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000972)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000578)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000856)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000544)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001101)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001156)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001849)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000702)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000379)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000972)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;35;1mSQL (0.000570)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003451)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000675)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;35;1mSQL (0.000614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000601)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000321)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.010050)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.014858)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007151)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.035526)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010752)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002033)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000292)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002683)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.004849)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000819)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000561)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001470)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001350)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001275)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002675)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000532)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001483)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000474)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001089)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001631)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001812)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002209)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001245)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001496)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001061)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000404)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001087)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000649)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001453)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000673)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001053)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001228)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001880)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000850)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000893)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001236)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002631)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001607)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000934)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001350)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001310)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003903)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004610)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000601)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001590)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001297)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002537)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000650)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001272)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001609)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001095)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.001060)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.002579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001411)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001573)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001372)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.002074)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001994)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001099)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001442)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.002775)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001396)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001990)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000959)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000750)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001429)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002368)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001018)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.002127)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001426)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001715)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001675)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001276)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000834)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.001813)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001376)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001463)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001129)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001602)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002350)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001602)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000756)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001567)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001472)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001056)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000828)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001288)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001657)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000963)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000874)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001653)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001530)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000487)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000926)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003276)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.001044)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001467)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002716)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001466)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001660)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001857)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.003725)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000627)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000357)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009096)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.098911)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.008397)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.011017)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.024779)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001497)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000299)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002806)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007675)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000841)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000761)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000860)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001473)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001929)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001508)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002496)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000819)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003609)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001680)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000390)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001314)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000579)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001567)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001104)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001305)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.003496)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001491)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000834)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000576)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001124)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000448)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001229)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001246)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000705)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001324)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002107)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000951)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001334)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001116)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001308)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000922)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001266)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000763)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000926)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000577)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.002757)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001528)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.008547)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001520)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000684)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001756)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000704)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001135)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001176)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.008768)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001661)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001559)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001739)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001452)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001452)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001564)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.007270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000542)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000402)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001128)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001093)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000625)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001595)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001286)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000476)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001582)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000848)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.002047)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001634)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001486)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001031)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000703)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001438)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000833)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001461)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001361)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001518)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000925)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001139)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.001827)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000855)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000882)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001499)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001467)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.008050)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000703)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001477)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001579)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.002152)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001308)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000944)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000816)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.008673)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.006211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001231)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000745)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001293)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000669)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000929)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001481)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.006607)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001130)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002918)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001333)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000537)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000317)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.012590)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.014689)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007702)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.017669)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007396)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002216)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000300)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002833)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.004870)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000824)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000765)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001427)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001249)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001235)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001373)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002250)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000864)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001545)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000552)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001000)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000735)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000899)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001614)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001118)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001924)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001722)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001257)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.003802)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000520)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000366)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000646)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.007300)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.001270)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001815)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001689)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001472)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000829)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000776)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001261)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001588)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001467)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000500)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000951)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000916)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001276)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001487)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002837)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000772)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001441)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.003488)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000472)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000926)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001846)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001298)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001334)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001287)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001547)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.003712)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001576)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000530)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000941)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000938)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001295)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000956)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001459)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001180)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000710)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001485)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001860)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000849)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001452)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000561)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001271)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.002092)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000891)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.001780)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000518)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001245)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001325)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001441)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000836)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001288)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001886)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.003294)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000943)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001931)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001118)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000911)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001762)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001299)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001525)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000505)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000744)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001771)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000816)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001155)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002029)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001303)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001871)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002303)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001370)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001253)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002130)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001552)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000318)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.017630)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.026192)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.004944)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014145)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007661)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001989)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000344)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002392)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.012414)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000843)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000677)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001778)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001325)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002096)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000937)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002052)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000394)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001968)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001104)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.004256)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001291)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001935)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000938)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001061)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001457)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001130)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000397)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001109)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000931)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000917)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.004304)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001341)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001514)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002051)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000640)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001257)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001589)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000372)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000933)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003090)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001266)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003650)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000829)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001206)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001713)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000507)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000769)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000976)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000649)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.002233)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001378)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001781)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001749)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001771)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001450)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001314)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.001493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003074)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000651)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001302)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000983)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000965)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.003895)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001074)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001428)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001696)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001828)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001460)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000833)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001432)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001238)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.001312)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001116)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.001764)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001385)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001483)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001218)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001592)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001813)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000852)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001571)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000951)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000651)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001457)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001555)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001138)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001644)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000968)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000841)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.004257)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001302)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.007582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002706)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000947)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001527)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003218)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001841)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000681)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000325)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000333)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009077)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.051727)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005549)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.019004)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007316)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001559)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000292)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002613)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005690)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000827)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000758)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001315)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000620)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001054)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001572)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001947)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001317)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000949)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000539)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002381)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;35;1mSQL (0.000539)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000883)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000816)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001162)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;36;1mSQL (0.001027)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001264)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;36;1mSQL (0.001178)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001274)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000358)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000920)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000867)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000934)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001934)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mSQL (0.000557)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;36;1mSQL (0.001364)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000618)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;35;1mSQL (0.000718)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.001076)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001297)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.002928)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000827)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000923)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001293)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000944)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001326)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000516)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000643)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001303)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000929)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001078)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000690)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000947)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;35;1mSQL (0.000836)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000960)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000530)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000607)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.039286)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.041798)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007290)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.020276)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007244)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004634)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000310)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002668)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005592)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001090)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000987)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000609)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001242)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001079)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001493)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000397)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001044)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000924)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001529)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001148)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001570)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000911)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.002127)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000958)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;36;1mSQL (0.000982)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001447)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000345)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001240)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;35;1mSQL (0.000916)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000909)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001660)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mSQL (0.000500)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000351)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000927)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000813)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000385)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000932)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;35;1mSQL (0.000738)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001210)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000539)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000888)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;36;1mSQL (0.000845)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001300)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000649)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000980)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001629)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000648)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002033)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;35;1mSQL (0.000740)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.001533)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001155)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000973)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000328)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.010057)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.138550)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007397)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.029190)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007766)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002239)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000316)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002411)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005682)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000833)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000762)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001759)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000675)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000753)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001374)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001422)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001489)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;36;1mSQL (0.000777)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000393)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001187)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;35;1mSQL (0.000531)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000969)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;35;1mSQL (0.000751)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000671)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001373)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001623)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001666)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001291)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.007232)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;35;1mSQL (0.000767)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001325)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mSQL (0.000523)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000993)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000882)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;36;1mSQL (0.000813)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000966)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.001442)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000500)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001573)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000620)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;35;1mSQL (0.001763)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000689)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001117)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;35;1mSQL (0.000579)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000498)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000983)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;36;1mSQL (0.030910)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000406)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000986)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000620)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000921)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000968)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000305)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000540)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009450)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021390)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.028695)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.011400)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009635)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001594)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000303)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.009961)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005822)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000776)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000631)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000913)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000807)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001806)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001483)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001285)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001297)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.001928)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000411)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000733)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002346)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.002527)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001446)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000857)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000641)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001562)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000637)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000888)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000545)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002114)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001795)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002015)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001435)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000865)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000580)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001682)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001329)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001363)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000959)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001549)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000933)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.001542)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001440)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001925)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003213)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000917)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001709)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001313)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000926)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000958)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.003983)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001575)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001313)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001770)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001227)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.009916)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001622)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001180)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001621)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000795)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001554)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001613)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.003944)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000580)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002531)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001463)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000860)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001948)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000665)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001708)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001500)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000821)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000535)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001659)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000968)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000919)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.001795)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001435)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000522)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000425)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001271)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001756)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001121)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001131)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001630)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000931)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000862)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001276)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001855)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001266)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000940)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000814)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001328)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001808)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001613)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001941)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000571)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001032)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000688)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000958)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001188)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.001719)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.002039)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001615)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001358)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002689)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001525)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001251)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001603)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001478)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.003831)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000749)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000387)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.012409)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.075053)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007587)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.043045)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007133)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001642)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000313)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002750)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.013843)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000778)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001430)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001119)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001508)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002695)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001134)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000566)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001307)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002542)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000812)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.012211)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001212)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001109)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001819)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001291)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.038958)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.008273)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001260)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.001060)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001471)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.003060)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001447)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003176)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000988)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000881)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001201)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000705)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001053)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000761)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001436)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001763)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001400)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002360)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.002246)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001116)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000750)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.002152)[0m   [0;1mUPDATE categories SET "lft" = 5, "name" = 'child1b', "rgt" = 6, "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001482)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000850)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000841)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000973)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000901)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001047)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001294)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001484)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001078)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.001338)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.002183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000544)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000904)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000892)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001677)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001818)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001247)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 6, "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002268)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001332)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000462)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000904)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001302)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001045)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001658)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001544)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001894)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001128)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001288)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001445)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001270)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001448)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001432)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001779)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001013)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001871)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000945)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000915)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002251)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001871)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001296)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001459)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000838)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001767)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001568)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.009053)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001676)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001566)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000821)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001503)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Delete all (0.000928)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.001249)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001570)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001376)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001834)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000973)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000992)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001400)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000903)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.003163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001965)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001335)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001394)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003018)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001369)[0m   [0mUPDATE categories SET "lft" = 1, "name" = 'root', "rgt" = 10, "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001124)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000774)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000312)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.467304)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.277619)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.042405)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.024366)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.086132)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.013841)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000294)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002372)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005290)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000810)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001521)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001178)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000638)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000574)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001374)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002810)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001444)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000512)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000368)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000944)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000562)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001169)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000921)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000587)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000763)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001047)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 7, NULL)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001802)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001493)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000848)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mSQL (0.000508)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000381)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000969)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001031)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000656)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001516)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001505)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001137)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001298)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002033)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001284)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000705)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mSQL (0.000532)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002128)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001157)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', NULL, 19, NULL)[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001383)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001141)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001506)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000966)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000817)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.011014)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001512)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001009)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001501)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001444)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000977)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001179)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001258)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001771)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000539)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001498)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001956)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001108)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000789)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000833)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002562)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002675)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000366)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000960)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000646)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001287)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001430)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000888)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001462)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000671)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001368)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001630)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001121)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000556)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001301)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001121)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000809)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000817)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001608)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001466)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000581)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000809)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003536)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000304)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000325)[0m   [0mROLLBACK[0m
  [4;36;1mCategory Load (0.001468)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 8) [0m
  [4;35;1mCategory Load (0.001062)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Load (0.001286)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001022)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.000989)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001042)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mSQL (0.009621)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.025769)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005863)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.054581)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007452)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001554)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000286)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.014599)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005643)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000833)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000762)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001126)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001351)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001470)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002079)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002049)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001132)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000680)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000890)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000854)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000580)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001339)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001292)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001491)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000824)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000976)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001275)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000469)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000921)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000860)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000953)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001529)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001397)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001453)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000850)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001296)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001356)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001675)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000546)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000460)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001181)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000844)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001124)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.002098)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001481)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001222)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001486)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000782)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001471)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001491)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000847)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001392)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001587)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000838)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001279)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001122)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001144)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000792)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000763)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001999)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001407)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001415)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001091)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001471)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001557)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000826)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000841)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001532)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001210)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000720)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001282)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001746)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001256)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001474)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001144)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.001145)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000877)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001461)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000948)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001338)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000734)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001520)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001339)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001458)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002347)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001478)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001736)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001409)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000313)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.396784)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.162921)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010333)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.023590)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.040010)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001774)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000281)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002854)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005141)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000808)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.013847)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000987)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000559)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001669)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002096)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000835)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001127)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000795)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000386)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000820)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001408)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001108)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001130)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001324)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001718)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000892)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001122)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001620)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000495)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000660)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000960)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000866)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000740)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001388)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001666)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001654)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001796)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001270)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.002146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001928)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000521)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001095)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001093)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000826)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001879)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002283)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001425)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000640)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002228)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000666)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002859)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000831)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000933)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001491)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001114)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001287)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001533)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000538)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.002476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001494)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001348)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000785)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001219)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000656)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000880)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001271)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001482)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000833)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001745)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001633)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001480)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001501)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001328)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001079)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000867)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001262)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002887)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001701)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001148)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000480)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000640)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001686)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001056)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000641)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001279)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001501)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000839)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000544)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001506)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000868)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.002521)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001280)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001408)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000827)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000778)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001319)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001121)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001189)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000872)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001206)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001507)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002913)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001067)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001482)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001830)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001445)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000662)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000338)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000322)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.017300)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.033213)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.027927)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010812)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009879)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001777)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000345)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002819)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005768)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000834)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000879)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000864)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000631)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001417)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002560)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002331)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000839)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000577)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001499)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000810)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001228)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000930)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001788)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001242)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001110)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001106)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001241)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001537)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001256)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001151)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000415)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000909)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000677)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001322)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000709)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002896)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001630)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001467)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001528)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001858)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001264)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001265)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000576)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000577)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001563)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001509)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001158)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001452)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000766)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000673)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.001016)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001791)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001359)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001241)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001475)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001023)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000469)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000945)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.003520)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000961)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001903)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001285)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000508)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000967)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001249)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001443)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000956)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001455)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001487)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001286)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001751)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001559)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000816)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000824)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001848)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001370)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000384)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001348)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001330)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001455)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000822)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001261)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001524)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001210)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000729)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001316)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001731)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000580)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001377)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001106)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000835)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000901)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001480)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001115)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000700)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000863)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001293)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000644)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001505)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002439)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.003300)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001226)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001321)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001825)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001481)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000310)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.109793)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.093404)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.030711)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.015310)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.069192)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001751)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000340)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002439)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005502)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001313)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001300)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001287)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002234)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000938)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005390)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001524)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000363)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000587)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001059)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000945)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000559)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001353)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001646)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001245)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000527)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001268)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000923)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000876)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001301)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001262)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001712)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001486)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.002058)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001274)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000535)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000556)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001535)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001892)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Update (0.005285)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000913)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000647)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001425)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.003900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000655)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000930)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000959)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000565)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001238)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001411)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001233)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001120)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.003875)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001139)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.003824)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001287)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000535)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000383)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000565)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001646)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001498)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000991)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000900)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001745)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000917)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000628)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.015632)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001539)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001187)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001719)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.001141)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.000793)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.002786)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001291)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001242)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000943)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001525)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.015387)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.004823)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001173)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000859)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001602)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000858)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000747)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001547)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001123)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001114)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000791)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000759)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.002155)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001371)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.011960)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000485)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001038)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000554)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000798)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000676)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001588)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001362)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Update (0.003550)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001270)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001373)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000361)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.019861)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.023889)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.022241)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.015148)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.017417)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002299)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000295)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002525)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005362)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000817)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001424)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001116)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000849)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.006457)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001139)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001497)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.003019)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.012130)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001770)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001892)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000359)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001400)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000955)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000871)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001378)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001301)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.003946)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000648)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001114)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000748)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001471)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001127)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001454)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000850)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.007672)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001256)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001112)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001685)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001689)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000732)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000728)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000575)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000554)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001515)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Update (0.001773)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001179)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.011729)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001316)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000485)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000927)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001332)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001335)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001751)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.004487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000930)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.011985)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000656)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.014908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.000791)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001018)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000559)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001348)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001619)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001832)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000375)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001319)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001580)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001930)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001225)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.012371)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000867)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001447)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.028152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001500)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.000791)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.001099)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.002925)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001380)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.002270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000880)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.003592)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001798)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.011730)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001402)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001467)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000822)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003937)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001768)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000822)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001772)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001385)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001101)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000877)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000994)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001393)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001563)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000351)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001098)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.004003)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.012976)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000718)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001136)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000889)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000895)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000939)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000779)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001719)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.005126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001514)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Update (0.029223)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001959)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001217)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001645)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001286)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.004562)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000530)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000343)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.260291)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.033615)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.016590)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010904)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.021978)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001604)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000301)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002411)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005216)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000831)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001212)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000970)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000929)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000774)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001689)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001346)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002598)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001056)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.001672)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001564)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001522)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000678)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000984)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000973)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003939)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001228)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001755)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000844)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001323)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.004800)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000389)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000833)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001782)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000715)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000574)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001425)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001826)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.023560)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.003920)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001278)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001256)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000947)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001083)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001326)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001468)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001887)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001205)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000775)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001448)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001116)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000780)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000948)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001640)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001606)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.004388)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001158)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001296)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.021156)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001379)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000520)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001514)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000860)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001262)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001890)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001320)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001827)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001415)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001573)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000926)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000561)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001470)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001071)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000821)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.003303)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001313)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000581)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001484)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000830)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.002966)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001021)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001495)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001462)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001448)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.003243)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001388)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001742)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000800)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000913)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001349)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001375)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001171)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000634)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000992)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001544)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001172)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.028503)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001319)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003901)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001088)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001402)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001126)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001574)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.001239)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000620)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.017240)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.115720)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.010288)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.029957)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009488)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001911)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000292)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.013079)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005744)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001031)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000998)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000609)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001005)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000550)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001461)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.003012)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001258)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000936)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000837)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000625)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001246)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001123)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001143)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001524)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001103)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001283)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001531)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000538)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001747)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.012410)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.002710)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000993)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000801)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001331)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001485)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001158)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001475)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.002015)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.025819)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.003816)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002942)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.004814)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000890)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000679)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000897)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.012058)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001328)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001279)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Update (0.007715)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;36;1mSQL (0.000873)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001322)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000484)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001161)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000959)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;36;1mSQL (0.003654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.004164)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001217)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.011913)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001581)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000476)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000530)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.004075)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000772)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000897)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000676)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001323)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.001398)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001181)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001287)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.007153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001280)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000791)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000389)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001178)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.008511)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000909)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.007019)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001317)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001459)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000974)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000698)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.003290)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.007677)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.000858)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.000791)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.014308)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.005076)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000946)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000668)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001350)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.007137)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001092)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001654)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001457)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000849)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002458)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001534)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001258)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000867)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001613)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001376)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.002624)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000823)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000788)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001325)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.007553)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000365)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000948)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.002381)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000618)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000788)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000754)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001467)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001551)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001545)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001440)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Update (0.015486)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001525)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001326)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000615)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.240783)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.018174)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.023512)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010002)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.009392)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001625)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000333)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004136)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.011430)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001006)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001249)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000964)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001645)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001516)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.040780)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001547)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002481)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.012583)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001044)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.005743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001276)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001745)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000609)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000887)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000933)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001296)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001828)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001296)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001111)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001424)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001779)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001104)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001635)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000391)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001213)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003547)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001467)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001495)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001524)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000968)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000917)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001266)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001279)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001330)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002895)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000590)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000769)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001117)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000813)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001119)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001471)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001431)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.003983)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Update (0.001513)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001459)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001287)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000937)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001741)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.003081)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001345)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001368)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001223)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.012532)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001367)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000491)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000384)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000972)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000935)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.001228)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001217)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001491)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001288)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000495)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000662)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002036)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001451)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000842)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000637)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001508)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001469)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.002180)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000847)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000639)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001425)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.004766)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.003988)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.002726)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001371)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001598)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000504)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002683)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.005208)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001316)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001473)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000836)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.013369)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001298)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001706)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000978)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001307)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.002073)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000854)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001320)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001276)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.012212)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000951)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000806)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001432)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001144)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001663)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000376)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000805)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001102)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000927)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001336)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.011955)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001513)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001339)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001272)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001423)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Update (0.003542)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001304)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001241)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001297)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000320)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000339)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.018793)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.016891)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.016763)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.022012)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.020617)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002701)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000323)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002592)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007345)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000941)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000959)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000779)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001808)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.004390)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002886)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000953)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000663)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000753)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001092)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001288)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.029717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001431)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001181)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001116)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001448)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001085)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000751)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.024782)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000808)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001180)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.043498)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001562)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001297)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.004393)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001689)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001346)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000642)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.003543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001010)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001963)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Update (0.015473)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.037374)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;36;1mSQL (0.000665)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001418)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;36;1mSQL (0.000753)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001151)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001377)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001822)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001464)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001421)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000516)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000425)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001400)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000651)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001290)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001263)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002390)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000462)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000670)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.005730)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001547)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001711)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001923)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001242)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.003854)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000620)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001478)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001255)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001512)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001223)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001119)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.000786)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.000792)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.005993)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001718)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001544)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000665)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001281)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001447)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001093)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001338)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001762)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001301)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001540)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.002801)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001308)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001956)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001687)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000926)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000784)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001342)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001623)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001294)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001582)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000371)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000999)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000937)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000881)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000670)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001220)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000680)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000913)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000939)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.003906)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001543)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001500)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001551)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Update (0.016986)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001439)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001230)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001336)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001566)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000421)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000902)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.015155)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.016722)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.031445)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.021411)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.024938)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001871)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.016273)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002464)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005150)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001288)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.012017)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001372)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001526)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Update (0.002174)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.026340)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001381)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.006401)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001238)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000933)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001577)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001328)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001196)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001256)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.012212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001478)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000535)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000356)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001005)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000866)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000920)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.001585)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000885)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001282)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001285)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.000555)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.011331)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000941)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000892)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000931)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001290)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001626)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Update (0.001560)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001155)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000572)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001271)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001264)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001471)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000415)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001454)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003191)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000817)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000742)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001375)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001454)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.021259)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.004767)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001401)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mSQL (0.003066)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002686)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;36;1mSQL (0.003577)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001421)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001791)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mCategory Load (0.001172)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001427)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mSQL (0.000567)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.043911)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001292)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Update (0.001805)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;36;1mSQL (0.010665)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001305)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.003918)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001009)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001285)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.002805)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Update (0.001814)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001901)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Delete all (0.000841)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;35;1mCategory Destroy (0.000772)[0m   [0m DELETE FROM categories
 WHERE id = 26
[0m
  [4;36;1mCategory Update (0.003122)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000363)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000953)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Update (0.001500)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;35;1mSQL (0.000756)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001421)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001540)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001144)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Update (0.001708)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000831)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;35;1mSQL (0.000611)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001892)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001181)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Delete all (0.000803)[0m   [0mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;36;1mCategory Destroy (0.001032)[0m   [0;1m DELETE FROM categories
 WHERE id = 30
[0m
  [4;35;1mCategory Update (0.001363)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.003592)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001332)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mSQL (0.006616)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000853)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001000)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000955)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000923)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001437)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001550)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001322)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001556)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001573)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Update (0.004253)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001132)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Update (0.001500)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001364)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001694)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mSQL (0.000527)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000330)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.016392)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.050305)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.025560)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.037200)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010170)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.009643)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000535)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003131)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006483)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001271)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001578)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000950)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000711)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001848)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001538)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001324)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001615)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Update (0.002754)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000837)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000575)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001507)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000479)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000576)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000976)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001296)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001220)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001365)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001374)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000816)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000512)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000707)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000647)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000866)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000900)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001272)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001360)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.001421)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000556)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001326)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001364)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001390)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.001013)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003170)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001364)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001172)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001484)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Update (0.001524)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001526)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000678)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001286)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000395)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000615)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.030729)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000727)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001401)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000647)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001938)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.001222)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;36;1mCategory Load (0.007292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001630)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000891)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.038338)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mSQL (0.000482)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000783)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Update (0.001533)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001099)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002224)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001639)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000842)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001372)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Update (0.002963)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001023)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001829)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001097)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Delete all (0.000810)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;35;1mCategory Destroy (0.001060)[0m   [0m DELETE FROM categories
 WHERE id = 26
[0m
  [4;36;1mCategory Update (0.004042)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001512)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.026471)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.002768)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000395)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000772)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001400)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Update (0.001589)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.012282)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;35;1mSQL (0.000991)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001338)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.002022)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001678)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Update (0.001556)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;35;1mSQL (0.000548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001681)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001099)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Delete all (0.000795)[0m   [0mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;36;1mCategory Destroy (0.001551)[0m   [0;1m DELETE FROM categories
 WHERE id = 30
[0m
  [4;35;1mCategory Update (0.001930)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.012085)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001579)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mSQL (0.000542)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000948)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000939)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;36;1mSQL (0.004977)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000933)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001139)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001692)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001231)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001653)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Update (0.003974)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.003040)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001304)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001383)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.012196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000491)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000468)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000346)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.017198)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019326)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006503)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.029761)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.008920)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001817)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000302)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002361)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005083)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000818)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000967)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000919)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001477)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001554)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001482)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001410)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002436)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000823)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001144)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000529)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000665)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000702)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000952)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001193)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.001724)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001609)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.009088)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001737)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001798)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001473)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000938)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000580)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001392)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000904)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000400)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000988)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001150)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000883)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001507)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001473)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001026)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000951)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001256)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001103)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001420)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001148)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000574)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001392)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.003806)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000852)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001266)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001392)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000560)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000977)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001499)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001427)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001599)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001746)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000756)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001402)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001229)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000849)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000875)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.003480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001541)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001350)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001660)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.034169)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001909)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001489)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001128)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001036)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001896)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001754)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001068)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.003808)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000973)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000875)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002080)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001490)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000501)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000355)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000611)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001485)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001512)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000831)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001251)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001537)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000845)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001280)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.002532)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001256)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001117)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000798)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000768)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001436)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000979)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000629)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000925)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000771)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001305)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001127)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001407)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001740)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.003004)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001099)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001229)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001420)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001577)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.002109)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000313)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000324)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009067)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.051888)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007148)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.023199)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007188)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.009979)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000294)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002337)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005613)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000817)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000819)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000572)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001297)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002022)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001103)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001437)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000397)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000938)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001270)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000720)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000864)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000709)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.002307)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001337)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001249)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001452)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001426)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001251)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000592)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001383)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000932)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000979)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001584)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001478)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000846)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001271)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001432)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001359)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000511)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001774)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.006473)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001747)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000907)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001028)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000882)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000967)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001803)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001231)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001427)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001030)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000518)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000950)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.001657)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002086)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001464)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001636)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001459)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000989)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000750)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001282)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001432)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001128)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002005)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001263)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002650)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001126)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001128)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001487)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000826)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000804)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001977)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001323)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001139)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000409)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001240)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001430)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001656)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001669)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001904)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000976)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001545)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001119)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000820)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000769)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001315)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001330)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000511)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000960)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000904)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002612)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001099)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002281)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001110)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000757)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000316)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009111)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.014190)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006100)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010269)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007168)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002001)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000331)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002361)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005215)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001155)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.002399)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000866)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001530)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.001957)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000936)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.012855)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000443)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000945)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001117)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000634)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.002240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001118)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001118)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001214)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001444)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000831)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000641)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001454)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000757)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001218)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000631)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001553)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001851)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001694)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001268)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001104)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000487)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000662)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001664)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000892)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001803)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001468)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001474)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001354)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000760)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000365)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001995)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000984)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001320)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001416)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001219)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001520)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.001673)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000901)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001263)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001334)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000758)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.002010)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000846)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.016013)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001255)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000648)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001610)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001566)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001029)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000539)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001514)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001243)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001147)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001825)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001812)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001368)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001335)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000497)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000688)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001799)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001484)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000819)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001689)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001454)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001217)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000767)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001096)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000816)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000775)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001307)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001360)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001107)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000994)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001137)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000816)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001446)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002683)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001384)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001391)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000486)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000316)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009575)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.022904)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006304)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.026727)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007060)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001607)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000303)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002335)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005233)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000866)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000639)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001334)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000575)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002091)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000829)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001777)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000379)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001164)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001090)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000702)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001205)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001429)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001716)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001262)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001282)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001445)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000837)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.002323)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000502)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001078)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000561)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001290)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001473)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001571)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001138)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002365)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000484)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000452)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000955)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000696)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001153)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.032050)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000484)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000696)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001113)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001226)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001409)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001642)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001670)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000904)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000846)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001542)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000456)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001483)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001968)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000829)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001470)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000828)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001340)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001484)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000875)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001507)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001463)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001349)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000806)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000832)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001963)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001158)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001124)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001415)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000367)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001454)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001434)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001318)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001757)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000841)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000567)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001866)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001575)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001549)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.016999)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000876)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001729)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001143)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001340)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001189)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001026)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001015)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001347)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001452)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002506)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001536)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001419)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000900)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000288)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000311)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.012002)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.025007)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005786)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.042757)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007681)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002006)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000311)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002348)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005510)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000807)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000789)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001002)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000644)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000963)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001383)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.014599)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001810)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.001946)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000843)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000342)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001451)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001677)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001127)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001095)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001204)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001445)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000833)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001482)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000545)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000372)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000966)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001064)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000565)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001490)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001130)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001123)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001781)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000660)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001243)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001281)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000477)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000724)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001131)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001279)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001526)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001607)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001058)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001458)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000478)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000376)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001110)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001568)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001530)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001469)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001128)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000802)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000471)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001429)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000508)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000920)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000824)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001246)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001996)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001506)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001102)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001280)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001695)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000990)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001637)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000829)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000935)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002110)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001668)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000690)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000368)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000934)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001450)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001018)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000768)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001694)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.012446)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001508)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001454)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001734)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001139)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001100)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000804)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000774)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001820)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001487)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000700)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000571)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001063)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001225)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001682)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002335)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001233)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001121)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001626)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001369)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001300)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000583)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000289)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000307)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009755)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.025496)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005680)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.047650)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.017318)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001559)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.010417)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002628)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005001)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000806)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001056)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000870)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000956)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000535)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002260)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000976)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001352)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001151)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001425)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000350)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000888)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000803)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001101)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.002212)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001311)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001864)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001136)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001513)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001264)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001374)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000486)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000387)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001109)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000695)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001200)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000567)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001278)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002337)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001141)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001643)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000565)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001224)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001422)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000616)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000837)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000894)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000539)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.002286)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002062)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001530)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000951)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000674)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001378)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000703)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000845)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001202)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001187)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001309)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001928)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000840)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001563)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001417)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000689)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000959)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000862)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000627)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001341)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002667)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000820)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001216)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000569)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001247)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001752)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000842)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002303)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001481)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001451)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001719)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001097)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000795)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000782)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002072)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001421)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001344)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000377)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000897)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000655)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001917)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001256)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.002806)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000554)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001321)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001551)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001462)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001082)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000787)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000758)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001350)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001617)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000826)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001159)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000695)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000790)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001666)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001497)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002514)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001353)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001800)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001415)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000507)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000312)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009639)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021229)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007785)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.022442)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.006504)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001566)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000344)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002348)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005657)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001064)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000830)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000871)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000539)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001395)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001388)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002109)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000865)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002532)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.003444)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000458)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001104)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001013)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001314)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.002617)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001259)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.002061)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000577)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001403)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001122)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000356)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001013)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000829)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000843)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000544)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002550)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001294)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001111)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001414)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000922)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000656)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001320)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001303)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001423)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002716)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000482)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000834)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001860)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000839)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001143)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002305)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001402)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001148)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001301)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002182)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000840)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001636)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000412)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001147)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000792)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000854)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000940)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000754)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000548)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001558)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001368)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001535)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000477)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001705)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000837)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001466)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.002577)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001659)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001082)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001080)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.001030)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002005)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000378)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001515)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000803)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001691)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.002173)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000750)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001287)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001494)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000830)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000533)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001917)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001455)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000826)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001243)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000802)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000777)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.002207)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001383)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000487)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000946)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000888)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000649)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001094)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000963)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001495)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002560)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001119)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001512)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001106)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001427)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001437)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000511)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000555)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.008870)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013549)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005465)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.009712)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007066)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001517)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000285)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002396)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005114)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001624)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000935)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001009)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000941)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001396)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001614)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002385)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000829)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002365)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000712)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000854)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000577)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001103)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001614)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001255)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001444)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001277)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001424)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001465)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000413)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001195)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000942)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000544)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001132)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001487)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000865)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001247)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001111)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001459)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000435)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001086)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001233)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000987)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001367)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001514)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001151)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000795)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000508)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001200)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000932)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000983)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001300)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001555)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001255)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.002444)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000929)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001999)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000804)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000416)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001109)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000880)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001735)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001310)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001604)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000846)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001398)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001518)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000911)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001293)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001459)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000987)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001491)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001294)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000828)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000829)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001967)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001417)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.002294)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001092)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000691)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001546)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000834)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001541)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000838)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001577)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000828)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001675)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001560)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001834)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001112)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000797)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.001343)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001772)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001398)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000670)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000953)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001238)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001515)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002333)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001181)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001226)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001466)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.002437)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000500)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000299)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000341)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009770)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021925)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005952)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.019220)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007812)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002014)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000286)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002495)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.004985)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001085)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001119)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000732)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001387)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001533)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001407)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002460)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001055)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001295)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001279)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000770)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000664)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000967)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000786)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001328)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001496)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001636)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001429)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000868)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000371)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000698)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001573)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001431)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001488)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000837)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001267)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001407)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001566)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000475)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001747)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001276)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001344)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001138)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000687)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000641)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001228)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001502)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001587)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000847)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001306)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001349)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000510)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001446)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000508)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001593)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001438)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000829)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002535)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001594)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000833)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001738)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001470)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000838)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001108)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.001040)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000919)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001954)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000847)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000450)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000611)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001481)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001096)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000656)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001488)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001046)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001304)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001458)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000838)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001520)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001486)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001110)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.002145)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000863)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001319)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000583)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000636)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000915)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001149)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000650)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001223)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002290)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001281)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002306)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001086)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mSQL (0.000525)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000322)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009621)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.022162)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006347)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.019169)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.006728)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002015)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000276)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002413)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005273)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001092)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000802)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001184)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000671)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001479)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001261)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001270)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002228)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001291)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001286)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001256)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.029710)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000382)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000865)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001059)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001386)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001484)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001285)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001412)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001394)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001082)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.001825)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001217)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000842)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001394)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001339)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001367)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001870)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000984)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000672)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001264)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001106)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001106)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001437)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001209)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000486)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001135)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000540)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001483)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001400)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001598)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Update (0.001857)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001370)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000407)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000730)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000963)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001442)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001863)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001249)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000338)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000960)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000703)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001300)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001414)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000472)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000437)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000826)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001837)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001440)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000839)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001531)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001444)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001218)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001581)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000609)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001375)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001597)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.000789)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.000944)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.002066)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001553)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000612)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001162)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001799)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000835)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001495)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001440)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000835)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001294)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001480)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001712)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001141)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001489)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001098)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.001905)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000863)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001477)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001372)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000361)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000737)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000984)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000663)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000539)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001310)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Update (0.002411)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001478)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001280)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001370)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001642)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000815)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000293)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.008536)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013189)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.013895)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.012362)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014815)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001717)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000351)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.005188)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005720)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002408)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000873)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.015890)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001677)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001412)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.004941)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001419)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002409)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000890)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001126)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001291)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000820)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000411)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001148)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000934)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000694)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001118)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000546)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001228)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001379)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001202)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001074)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000899)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000982)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001285)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001377)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001643)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001461)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000988)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001253)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001105)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001819)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000495)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000365)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000921)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000698)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000715)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001167)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001258)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Update (0.001496)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001382)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000634)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.006323)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001354)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000507)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000980)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000673)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000676)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001178)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000567)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001554)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001226)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001350)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;35;1mSQL (0.000670)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001267)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;35;1mSQL (0.000669)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001304)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001493)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mSQL (0.000529)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000376)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000860)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Update (0.001854)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000858)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001440)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000984)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Update (0.001585)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000836)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.003071)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001105)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;35;1mCategory Delete all (0.000803)[0m   [0mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;36;1mCategory Destroy (0.001068)[0m   [0;1m DELETE FROM categories
 WHERE id = 26
[0m
  [4;35;1mCategory Update (0.002392)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.002352)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mSQL (0.000857)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Update (0.001424)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001133)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001502)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000837)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;36;1mSQL (0.000698)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Update (0.001452)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001145)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001630)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001123)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001460)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001420)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;36;1mCategory Delete all (0.000814)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;35;1mCategory Destroy (0.000794)[0m   [0m DELETE FROM categories
 WHERE id = 30
[0m
  [4;36;1mCategory Update (0.001322)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001333)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001124)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mSQL (0.000743)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000393)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000888)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;35;1mSQL (0.000760)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;35;1mSQL (0.000984)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001105)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.008098)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001391)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001310)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Update (0.002389)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001449)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001353)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001120)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001310)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001197)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000318)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000307)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.017339)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013534)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.014996)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.011043)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.006558)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.009032)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000438)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002991)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005155)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001114)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000821)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000592)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001650)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001298)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001467)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002446)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001009)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001228)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001530)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000511)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000363)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000937)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000844)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000863)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001118)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000734)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001240)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001134)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001118)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001501)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001429)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000701)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001221)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000405)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000862)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001176)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001134)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001254)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001465)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001384)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001480)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000682)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001238)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001269)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001138)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mSQL (0.000523)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;36;1mSQL (0.000583)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Update (0.001618)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000911)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000590)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000407)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000850)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001494)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001306)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001564)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001854)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001298)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000499)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000920)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001004)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.002004)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001217)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000835)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000974)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000563)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001544)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001442)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000824)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001540)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001029)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000828)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001860)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000839)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001581)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001102)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000790)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000850)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.001859)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001728)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000794)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000370)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001655)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001468)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000830)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001309)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001448)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001635)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001320)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001698)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001109)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000955)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001217)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001128)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001100)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000791)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.001064)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001381)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001359)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000484)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000943)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000921)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.001738)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000922)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000929)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000550)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001301)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001337)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Update (0.002352)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.001228)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001470)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000546)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000320)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.027969)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.030490)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.028844)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.026043)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.030886)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001465)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000314)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002385)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005143)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001004)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000869)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000918)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001832)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001489)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001076)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001331)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002090)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000857)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000917)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001425)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000592)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000986)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000864)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001550)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001121)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001060)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001561)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001365)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001933)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000848)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001611)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001452)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000850)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001132)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.003279)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001539)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000577)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001454)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001407)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001243)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001503)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000380)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001174)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001539)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Load (0.001070)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.001905)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000654)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001304)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001408)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000487)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000373)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001336)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001104)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001839)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001392)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Load (0.001084)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001226)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Update (0.001436)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000831)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001139)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mSQL (0.000684)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000942)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001144)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;36;1mSQL (0.000923)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001302)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000479)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000453)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001439)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000859)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001706)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000831)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001623)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Update (0.001477)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001037)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001436)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001357)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mCategory Load (0.001152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001382)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;36;1mCategory Delete all (0.000796)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;35;1mCategory Destroy (0.000819)[0m   [0m DELETE FROM categories
 WHERE id = 28
[0m
  [4;36;1mCategory Update (0.002098)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000707)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001291)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001484)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001202)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;35;1mSQL (0.000746)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001920)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001962)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;35;1mSQL (0.000668)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Update (0.001454)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000837)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;35;1mSQL (0.000900)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mCategory Load (0.001245)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mCategory Delete all (0.000833)[0m   [0mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;36;1mCategory Destroy (0.000871)[0m   [0;1m DELETE FROM categories
 WHERE id = 32
[0m
  [4;35;1mCategory Update (0.001368)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001370)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;36;1mSQL (0.000779)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001361)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004093)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001524)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001045)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002422)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001473)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;36;1mCategory Load (0.001080)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001661)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001579)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.002437)[0m   [0mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;36;1mCategory Load (0.001290)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000313)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009545)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021579)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006668)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.019068)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.006669)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002033)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000296)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002514)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005711)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000827)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000857)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000850)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001515)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001436)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001870)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.001968)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001264)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001645)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001263)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000904)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001526)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001442)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001109)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001223)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001445)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001117)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000575)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001119)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001696)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000525)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001054)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001773)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001198)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001100)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001434)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001641)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000832)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001322)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001095)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001455)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000773)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000396)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001832)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000800)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000982)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000640)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001326)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Load (0.001325)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.003353)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001868)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001303)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001472)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000483)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000395)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000929)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001027)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.002102)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000889)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000954)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001242)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001433)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001484)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001402)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001309)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001412)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001195)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001002)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000823)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001304)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001626)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000480)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001597)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000819)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000656)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001350)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001539)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000938)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001275)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001759)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001170)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001105)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000787)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000812)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001803)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000376)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000892)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001309)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001477)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000930)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000561)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001769)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000664)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001478)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001475)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001073)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001468)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001101)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000797)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.001039)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001363)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001138)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000473)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000409)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000874)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001028)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000756)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001155)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000875)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001225)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001144)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001380)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001119)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001382)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002401)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001259)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001307)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001707)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000486)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000300)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000316)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.016812)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013948)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007391)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010065)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.016704)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002009)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000289)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002832)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005620)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000802)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000780)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003878)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001439)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001417)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001050)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.001977)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001323)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001292)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001492)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001131)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000651)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001463)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001256)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001152)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001431)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001120)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001404)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001210)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001523)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000914)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001414)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001230)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001167)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001160)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001263)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001357)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001806)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001233)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001264)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001312)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001283)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000480)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000387)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001210)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001322)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000919)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001581)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Load (0.001101)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.001457)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000839)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000698)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001279)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001505)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001538)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000997)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001398)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001223)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001387)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001113)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002164)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Load (0.001278)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001219)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001103)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000537)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000820)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000925)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001163)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001345)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001107)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000514)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000667)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001237)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001534)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000852)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001638)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001232)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000805)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001467)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001715)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001205)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001463)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.001059)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000845)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001744)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000365)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000913)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001443)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001497)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000829)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000540)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001303)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001450)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001603)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001709)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001506)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001443)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000800)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000896)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001433)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001385)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000578)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000908)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000712)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000858)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000931)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000948)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001464)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001359)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001020)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001031)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002784)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001288)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001619)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001324)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000558)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001007)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000358)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.009088)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.015909)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.013764)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.009792)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.015123)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001778)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000290)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002625)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005652)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001094)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000815)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001385)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001532)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001172)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.002199)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001238)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002030)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000809)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001267)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001107)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001520)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.002515)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001241)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001741)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001109)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001538)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001379)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000921)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000844)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001123)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001440)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000843)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001236)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001558)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001701)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.001494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000445)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000545)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000823)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001231)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001521)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001239)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001163)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001229)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.002466)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001443)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001182)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001491)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001058)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001327)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001236)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001667)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001141)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000482)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000857)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000890)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000857)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001418)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001273)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000660)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.001740)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000839)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001265)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001545)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001053)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001449)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001449)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000851)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001553)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001124)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000907)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000787)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002287)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001199)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000492)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001224)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000724)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001250)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001753)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001535)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000848)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000849)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001260)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001637)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001787)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001130)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001279)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000840)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000791)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001621)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001344)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001890)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000491)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001218)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000992)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000875)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000640)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000922)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001615)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001278)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001501)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001234)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001362)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001032)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Update (0.001241)[0m   [0;1mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;35;1mCategory Load (0.001362)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001099)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002369)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Update (0.001251)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001127)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001319)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001587)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000502)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000322)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000310)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.017966)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.017514)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.015052)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010464)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.015110)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001817)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000609)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002580)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005716)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000830)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000804)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.013406)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001389)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001563)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001361)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002004)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001064)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000664)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001144)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001151)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001326)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001286)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000716)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000822)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001112)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001111)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001349)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001087)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000937)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000581)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001474)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001500)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001434)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000829)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001251)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001519)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000484)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000443)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000847)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001472)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001526)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001505)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;36;1mSQL (0.000812)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001223)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 14 WHERE id = 16[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.001956)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000388)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001075)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000927)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001272)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001117)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001484)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000848)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 18, 6)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001240)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001080)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001581)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000514)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000358)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000977)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000846)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001467)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001567)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001421)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000814)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001149)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.002038)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000758)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001317)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001774)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000842)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001534)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001754)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000834)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001662)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000789)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000764)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.002153)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.002639)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001216)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001387)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000541)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000369)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000663)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001340)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001784)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000841)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001436)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000838)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001617)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000865)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001388)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000869)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000803)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001352)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000726)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001323)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001148)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001195)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001287)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001262)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 36) [0m
  [4;35;1mCategory Update (0.001231)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 37 WHERE id = 36[0m
  [4;36;1mCategory Update (0.002337)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001399)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.001255)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001485)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001458)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000315)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000322)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.009614)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.016304)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006248)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.016337)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.006648)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001821)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000304)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002414)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005510)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001096)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000798)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000609)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001390)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002019)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000826)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.002254)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000363)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001308)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001075)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000978)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001222)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001156)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001106)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001401)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001100)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001473)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001218)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mSQL (0.000521)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000972)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001362)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001398)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Update (0.001489)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000843)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001585)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001860)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.002287)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001037)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001108)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000893)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001500)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001447)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001372)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001143)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001469)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000823)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001227)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 14 WHERE id = 16[0m
  [4;36;1mCategory Load (0.001082)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001455)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000774)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000365)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000872)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001431)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001191)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001121)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001479)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 18, 6)[0m
  [4;36;1mSQL (0.000687)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001190)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001566)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001092)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.002335)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002869)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001158)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001206)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000969)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001349)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000694)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001450)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000658)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000399)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001799)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000698)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001501)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001437)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000995)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000999)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001321)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001793)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000976)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001547)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001490)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000854)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001092)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000824)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000925)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001756)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000370)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001010)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001543)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001471)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000832)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000537)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001298)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001427)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000845)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001739)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000820)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000589)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002535)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001494)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.001099)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000793)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001373)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001621)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001434)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000486)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001030)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000655)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001766)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000625)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000887)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000677)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000634)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001364)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001223)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001103)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001083)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 36) [0m
  [4;35;1mCategory Update (0.001188)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 37 WHERE id = 36[0m
  [4;36;1mCategory Update (0.002358)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Load (0.001103)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.001307)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;35;1mCategory Load (0.001081)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001264)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000464)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000339)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.009115)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.014310)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005787)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014331)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014538)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001758)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000427)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002570)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005510)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001092)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001170)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001399)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000936)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000883)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001376)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001079)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001921)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002011)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000827)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000645)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001162)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000495)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001118)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001312)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001774)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001448)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001308)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001237)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001115)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001416)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000372)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001067)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000860)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001188)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000603)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.002519)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000848)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000572)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001237)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001466)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001511)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.000770)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001023)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;36;1mSQL (0.000569)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001968)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001161)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.002551)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000541)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.001216)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 14 WHERE id = 16[0m
  [4;36;1mCategory Load (0.001452)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001304)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001391)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000361)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001191)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000638)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000843)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000706)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001032)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000557)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001225)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.004238)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001579)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 18, 6)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001121)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001312)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001421)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001248)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001393)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001851)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000533)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000990)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000881)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000854)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000902)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001361)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001288)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001465)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001135)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.001151)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001261)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001523)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000839)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001309)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001443)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000935)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000765)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001228)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001461)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001137)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001124)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001113)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000824)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000775)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.002121)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001375)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000381)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000741)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001560)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001467)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000855)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000793)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001743)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001606)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000714)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001824)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001552)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000891)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001492)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.001112)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000825)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001331)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000490)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000955)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000698)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001324)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000866)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000876)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000953)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001242)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001052)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001236)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 36) [0m
  [4;35;1mCategory Update (0.001637)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 37 WHERE id = 36[0m
  [4;36;1mCategory Load (0.001112)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001413)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002390)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001527)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001206)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001433)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001460)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000306)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000442)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.008927)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.020826)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005953)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.025917)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007377)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001568)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000288)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002377)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005279)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001823)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000873)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000848)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000587)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000904)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001839)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001217)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001280)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001241)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001091)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001527)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002255)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001347)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001477)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000353)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000924)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001114)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000706)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001259)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001217)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001204)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001045)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001269)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001096)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001118)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000343)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001114)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000943)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002926)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.002301)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001121)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001656)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.001469)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001152)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000672)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001264)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;35;1mCategory Load (0.001077)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001174)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.000765)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000919)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000633)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000856)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000945)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001368)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.001482)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000539)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001164)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.001440)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 14 WHERE id = 16[0m
  [4;36;1mCategory Load (0.001300)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000495)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000425)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000656)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001651)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001087)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 18, 6)[0m
  [4;36;1mSQL (0.000564)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001434)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001318)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001362)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001249)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000534)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001252)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000620)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001123)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000908)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000522)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001702)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001750)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000858)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001441)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000829)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001693)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001460)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000847)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001485)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.002735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001143)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000916)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.001038)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001783)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001125)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000484)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000356)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000926)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000558)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001632)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000947)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000650)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001499)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001410)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001247)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001793)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001282)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001144)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001198)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001195)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000872)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.001474)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001633)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001175)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001119)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000355)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000989)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.002509)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000966)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001288)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001135)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.002562)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001307)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001100)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001117)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 36) [0m
  [4;35;1mCategory Update (0.001244)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 37 WHERE id = 36[0m
  [4;36;1mCategory Load (0.001086)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002868)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001215)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001123)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001218)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000634)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000383)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000347)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.016616)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.036502)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005653)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018151)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007284)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001511)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000289)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.010117)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005857)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000810)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000888)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001078)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001707)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001451)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002041)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001979)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000676)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000976)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000541)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002432)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000679)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001486)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001532)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001385)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001697)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000483)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000347)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000854)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000876)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001126)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001695)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001105)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.002070)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000578)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Update (0.001287)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;35;1mCategory Load (0.002360)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mSQL (0.000501)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000398)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001152)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000851)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;36;1mSQL (0.000538)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.001629)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000537)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001102)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.001702)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 14 WHERE id = 16[0m
  [4;36;1mCategory Load (0.001096)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001132)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000368)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000929)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001062)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000920)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.000648)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001575)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mCategory Update (0.001840)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001104)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 18, 6)[0m
  [4;36;1mSQL (0.001497)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mCategory Update (0.001553)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mCategory Load (0.001249)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000516)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000918)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000644)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000917)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001267)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.002473)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000878)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000864)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001410)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001765)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000828)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001255)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001442)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000843)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001302)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001441)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001155)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.003157)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001117)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000791)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000861)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001744)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001245)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000753)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000383)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001140)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001442)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001748)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001519)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000822)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001218)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.001445)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000864)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001115)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001510)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001580)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000806)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000817)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001584)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001459)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002886)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000638)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000869)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001493)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001130)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001116)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 36) [0m
  [4;35;1mCategory Update (0.001499)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 37 WHERE id = 36[0m
  [4;36;1mCategory Load (0.001104)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001102)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002603)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.003158)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001480)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000314)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.017895)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013299)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.016145)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.009919)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.014910)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001694)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000289)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002644)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005564)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001277)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000881)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000861)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001371)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001220)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001153)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001572)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001647)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.001978)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000816)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001344)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001184)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001462)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001183)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001306)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001105)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001077)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001315)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.002085)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000939)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001285)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001955)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000491)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000929)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001146)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000858)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000819)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001856)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001509)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.002397)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000827)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001325)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.002194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001226)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000897)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000859)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000572)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000868)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003125)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001161)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001379)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001488)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000840)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001574)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;35;1mCategory Load (0.001108)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001274)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001137)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000480)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001003)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000938)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000741)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000997)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001233)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001496)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000828)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.002257)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001232)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001358)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001473)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001211)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000479)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000864)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000645)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001066)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000885)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001194)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.002502)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000359)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000629)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001315)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.001430)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001374)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000575)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001243)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001934)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001253)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001815)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001406)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001368)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001096)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000806)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000883)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002498)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001145)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000479)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000547)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001279)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001956)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000537)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001603)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001458)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000913)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001533)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001965)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000860)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000856)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001583)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001142)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.001038)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000825)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001374)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000363)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000857)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000938)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000923)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001017)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001239)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001429)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001419)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001339)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001219)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001074)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001037)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Update (0.001240)[0m   [0;1mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;35;1mCategory Load (0.001429)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001127)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002500)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Update (0.002962)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001428)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001472)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000297)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000309)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.009145)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.022883)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.013766)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018032)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.016934)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001578)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000284)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002331)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005149)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001449)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000670)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001641)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001222)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001123)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001438)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001090)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001339)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002571)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000831)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001187)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001199)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001504)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000584)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000858)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000870)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001504)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001138)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001094)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001564)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001424)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001002)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000552)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001258)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001762)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000828)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000859)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000884)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000912)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001230)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001101)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001231)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001427)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000877)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001225)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001327)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001115)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001472)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000397)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001456)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000848)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000575)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001545)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001390)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001524)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001130)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001352)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000352)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000549)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001108)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000685)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001319)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001255)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.002302)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001535)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000568)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001133)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001512)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001430)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001429)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001275)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001394)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000359)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000644)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000852)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000543)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001169)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000371)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001175)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000811)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.001929)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000833)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000536)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001778)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000849)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000537)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001345)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002384)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000965)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000639)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001451)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001360)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000834)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000784)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002097)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000364)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000880)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001576)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001809)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000551)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002556)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001583)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000949)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001925)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000865)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001479)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001351)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000795)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000774)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001362)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001139)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001462)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001211)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000896)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000566)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000936)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000666)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001341)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001175)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001167)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001135)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001542)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001357)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001042)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001039)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Update (0.001175)[0m   [0;1mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;35;1mCategory Load (0.002399)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001111)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002644)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Update (0.001267)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001118)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001163)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001469)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000286)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000338)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.008668)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.022490)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006986)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.018092)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007243)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001819)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000524)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.010551)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005810)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000819)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000879)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000881)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000878)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001380)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001240)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001151)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001373)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002146)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001858)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001153)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001132)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000480)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000390)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000896)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000934)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001057)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000545)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001210)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001177)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001413)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001106)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001275)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001627)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001947)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001473)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000993)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001213)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001131)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001193)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000369)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002692)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001202)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001513)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001129)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.003106)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001675)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000833)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001229)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001109)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001120)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000695)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000390)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001169)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000639)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000844)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000568)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000864)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001509)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001220)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.002172)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Load (0.001101)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;35;1mCategory Update (0.001454)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000829)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;35;1mSQL (0.000582)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001128)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000511)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000455)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000979)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000862)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.001023)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001342)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001358)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Load (0.001051)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001261)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001508)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000362)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001521)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 21, 7)[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000897)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 22, 4)[0m
  [4;36;1mSQL (0.000602)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001286)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 22, 6)[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001186)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mCategory Load (0.001464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001130)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mSQL (0.000559)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000373)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000864)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001426)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000843)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 25, 3)[0m
  [4;36;1mSQL (0.004258)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001742)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001807)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000837)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 26, 4)[0m
  [4;36;1mSQL (0.000825)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Update (0.001447)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001261)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 26, 6)[0m
  [4;36;1mSQL (0.000675)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001189)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001428)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001212)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001425)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 27) [0m
  [4;36;1mCategory Delete all (0.000796)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 27) [0m
  [4;35;1mCategory Destroy (0.000756)[0m   [0m DELETE FROM categories
 WHERE id = 27
[0m
  [4;36;1mCategory Update (0.001730)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001388)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Load (0.001411)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001141)[0m   [0mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;36;1mSQL (0.000760)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000406)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001112)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001314)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001440)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001093)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 29, 3)[0m
  [4;35;1mSQL (0.000540)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.002067)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000921)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 30, 4)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Update (0.002524)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001006)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 30, 6)[0m
  [4;35;1mSQL (0.000700)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001489)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001096)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 31) [0m
  [4;35;1mCategory Delete all (0.000817)[0m   [0mDELETE FROM categories WHERE (parent_id = 31) [0m
  [4;36;1mCategory Destroy (0.000767)[0m   [0;1m DELETE FROM categories
 WHERE id = 31
[0m
  [4;35;1mCategory Update (0.001598)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001323)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Load (0.001207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;35;1mSQL (0.000481)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001050)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000894)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 33, 9)[0m
  [4;36;1mSQL (0.000601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000874)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 34, 6)[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001020)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 35, 5)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000880)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 34, 8)[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mCategory Load (0.001196)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001114)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001254)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001076)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Load (0.001870)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 33) [0m
  [4;36;1mCategory Update (0.002605)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mCategory Update (0.001473)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 33[0m
  [4;36;1mCategory Load (0.001072)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001215)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001487)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002554)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mSQL (0.000503)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000321)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000314)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.010320)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013420)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.005961)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.010105)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007418)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002046)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000285)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002386)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005883)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001146)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000819)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000943)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000577)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001376)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001395)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001245)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001095)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001486)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002025)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001270)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001201)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000856)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000570)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000863)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000777)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001500)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001149)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001239)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001602)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001228)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001410)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000872)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001133)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001446)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000489)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000876)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000590)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000879)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001541)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001189)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001617)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001115)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001214)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001429)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001045)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001270)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001074)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001374)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000480)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000897)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000664)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000913)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000541)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000710)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001269)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001699)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001309)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001129)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001656)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001574)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000627)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001121)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001261)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;35;1mCategory Load (0.001069)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001735)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001197)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001202)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000384)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000884)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.002613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001525)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001302)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001176)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001506)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001163)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001526)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001388)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001312)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001414)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000776)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001564)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000756)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000961)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000877)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000562)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001173)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001188)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001307)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001706)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001003)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001336)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002883)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000844)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000564)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001770)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000551)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001259)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002615)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001017)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000632)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001177)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001156)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001695)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001098)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000783)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000765)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002455)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001399)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001614)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000481)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000370)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000640)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001442)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000836)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001551)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001481)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000831)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000895)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001762)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001027)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000632)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001257)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001292)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001140)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000826)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000778)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001642)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001318)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000372)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000556)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000856)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000615)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000596)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000891)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000880)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000630)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001261)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001164)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001702)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001053)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001294)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Update (0.001206)[0m   [0;1mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;35;1mCategory Load (0.002263)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002442)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Update (0.001269)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001120)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001511)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001160)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001110)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000678)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000310)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.016570)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.020542)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.015948)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.012422)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010334)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001792)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003519)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006369)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000901)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000952)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000738)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001699)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001291)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001246)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001541)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001079)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002579)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000843)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001510)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001517)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001499)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000562)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000885)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001891)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000873)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000883)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001323)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002687)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001302)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001336)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.003057)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001301)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.007101)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Update (0.001706)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000967)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;36;1mSQL (0.001132)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001638)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.004513)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001375)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.002767)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mSQL (0.000712)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000518)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001251)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000824)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001519)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001003)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;36;1mSQL (0.000872)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001480)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mCategory Load (0.001425)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Update (0.001721)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000841)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;36;1mSQL (0.000587)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Update (0.001324)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001096)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001127)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000697)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001960)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000871)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002283)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000747)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001229)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001775)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001116)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001798)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000849)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001446)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mCategory Update (0.001236)[0m   [0;1mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;35;1mCategory Load (0.001085)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001179)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001248)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002324)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000855)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;36;1mSQL (0.000726)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001667)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001159)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001402)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;35;1mCategory Update (0.001494)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000845)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;35;1mSQL (0.000537)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001141)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001247)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001322)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001178)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000562)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000398)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001125)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000650)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001186)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000549)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000861)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001468)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001180)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001180)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001136)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000373)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000638)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001401)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.001509)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000867)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000911)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001258)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001463)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000844)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000538)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001820)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001458)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000840)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001272)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001190)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001449)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001097)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.000827)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000768)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.002777)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001228)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002405)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001266)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000930)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000776)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001265)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002017)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000952)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001376)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001598)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000880)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001216)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001515)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001014)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001142)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001150)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001176)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000911)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000798)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001827)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001174)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001233)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000390)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001776)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002399)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.009070)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000911)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000940)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.001028)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001292)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001173)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001600)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001472)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001390)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001277)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mCategory Update (0.001384)[0m   [0;1mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;35;1mCategory Load (0.001113)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;36;1mCategory Load (0.001095)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;35;1mCategory Update (0.002787)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Update (0.001259)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001119)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001227)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001482)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.002201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000354)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000328)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.417395)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.021702)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.017366)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.012099)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010053)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001979)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000283)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002787)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005833)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000825)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001254)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000935)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000615)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000922)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001389)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001639)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.003199)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Update (0.002088)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001224)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;35;1mSQL (0.000643)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001183)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001146)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001260)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001168)[0m   [0mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;36;1mSQL (0.000477)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000378)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000951)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000928)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001347)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;35;1mSQL (0.000620)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001360)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;36;1mCategory Load (0.001147)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mSQL (0.001623)[0m   [0mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mCategory Update (0.001190)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;35;1mCategory Load (0.001123)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001187)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001147)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000344)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000935)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000819)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000854)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 9, 5)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 10, 4)[0m
  [4;35;1mSQL (0.000548)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001962)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001370)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001414)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001170)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 10) [0m
  [4;36;1mCategory Load (0.001231)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Update (0.001430)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001383)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 10, 6)[0m
  [4;35;1mSQL (0.000737)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.001081)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 12) [0m
  [4;35;1mCategory Update (0.001184)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 10 WHERE id = 12[0m
  [4;36;1mCategory Load (0.001374)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;35;1mCategory Load (0.001159)[0m   [0mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;36;1mCategory Load (0.001464)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000350)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000910)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000598)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001006)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 13, 5)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000945)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 14, 4)[0m
  [4;35;1mSQL (0.000634)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001538)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.003299)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001402)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Update (0.001522)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000826)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 14, 6)[0m
  [4;35;1mSQL (0.000561)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;35;1mCategory Load (0.001196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mCategory Load (0.001237)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;35;1mCategory Load (0.001201)[0m   [0mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;36;1mSQL (0.000497)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000422)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001024)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000869)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 17, 5)[0m
  [4;35;1mSQL (0.000566)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000997)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 18, 4)[0m
  [4;35;1mSQL (0.001079)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001204)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001179)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.003282)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mCategory Load (0.001446)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 17) [0m
  [4;36;1mSQL (0.001157)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.001186)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 17[0m
  [4;36;1mCategory Load (0.001772)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;35;1mSQL (0.000542)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000917)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;36;1mSQL (0.000923)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001006)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 20, 7)[0m
  [4;36;1mSQL (0.000603)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000871)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 21, 4)[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000925)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 21, 6)[0m
  [4;36;1mSQL (0.000546)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001292)[0m   [0mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;36;1mCategory Load (0.001188)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;35;1mCategory Load (0.001218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;36;1mCategory Load (0.001172)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;35;1mSQL (0.000507)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000396)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001207)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000568)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001360)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Update (0.001938)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000947)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 24, 3)[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001787)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001746)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000969)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 25, 4)[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001449)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mCategory Update (0.001875)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001257)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 25, 6)[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001322)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001154)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001444)[0m   [0mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;36;1mCategory Load (0.001405)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 26) [0m
  [4;36;1mCategory Delete all (0.000806)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 26) [0m
  [4;35;1mCategory Destroy (0.000780)[0m   [0m DELETE FROM categories
 WHERE id = 26
[0m
  [4;36;1mCategory Update (0.001967)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001808)[0m   [0mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;36;1mCategory Load (0.001182)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mSQL (0.000968)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000383)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001183)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000734)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001222)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Update (0.001512)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000956)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 28, 3)[0m
  [4;35;1mSQL (0.000615)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001648)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001568)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 29, 4)[0m
  [4;35;1mSQL (0.001077)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001275)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mCategory Update (0.001569)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001042)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 29, 6)[0m
  [4;35;1mSQL (0.000576)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001289)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.002021)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001169)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Load (0.001245)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 30) [0m
  [4;35;1mCategory Delete all (0.002873)[0m   [0mDELETE FROM categories WHERE (parent_id = 30) [0m
  [4;36;1mCategory Destroy (0.000869)[0m   [0;1m DELETE FROM categories
 WHERE id = 30
[0m
  [4;35;1mCategory Update (0.001646)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001500)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001435)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000388)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000982)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000882)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 32, 9)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000938)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 33, 6)[0m
  [4;36;1mSQL (0.000542)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001114)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 34, 5)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001021)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 33, 8)[0m
  [4;36;1mSQL (0.000574)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001399)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001192)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001490)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001170)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001171)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001361)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Update (0.003010)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;36;1mCategory Load (0.001324)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;35;1mSQL (0.001083)[0m   [0mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Update (0.001402)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 32[0m
  [4;35;1mCategory Load (0.001079)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001377)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001417)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001344)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001518)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000299)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000339)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.009904)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.013329)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006601)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.009911)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.007460)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001538)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000290)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.011189)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006215)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000802)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000863)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000623)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000870)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003580)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001168)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001783)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001104)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001258)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.002318)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001478)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001234)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001865)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000610)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000350)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001038)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001130)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000976)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001257)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001364)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001314)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001182)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mSQL (0.003630)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001203)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001165)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001740)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000936)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001468)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001318)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001136)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001162)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000510)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000396)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001178)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000563)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000924)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001494)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002958)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001355)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001343)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001735)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.000964)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.001133)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.001452)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001126)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001304)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001155)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001422)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000631)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000893)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000556)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001379)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000675)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001221)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001275)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001305)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001148)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001291)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.001704)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001060)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001154)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mSQL (0.001232)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.001572)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;36;1mCategory Load (0.001122)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001254)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001186)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001338)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000496)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000357)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001153)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001270)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000614)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000894)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000581)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001536)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001221)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001703)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001433)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.001558)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000840)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.001022)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001148)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mSQL (0.001134)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001177)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.002983)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001749)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001200)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001178)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000521)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000361)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000931)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001097)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000873)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000607)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000831)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001453)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001900)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001345)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001208)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000762)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000382)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001288)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.001439)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000888)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001281)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001584)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000950)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000775)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001607)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001449)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001120)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000655)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001212)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.002087)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001488)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001192)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.001104)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001047)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.001000)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.004267)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001206)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001150)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000629)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000366)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000905)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001270)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001446)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000861)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000577)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001506)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.001266)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.000572)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001332)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001456)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001130)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.000680)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001438)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001203)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001167)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.001527)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001115)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000953)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000930)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001856)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001374)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001449)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001203)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000489)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000359)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001031)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000604)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002710)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000663)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000995)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001301)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001474)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001304)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001325)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001387)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001110)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mSQL (0.001181)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 37) [0m
  [4;35;1mCategory Update (0.001394)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;35;1mCategory Load (0.001185)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.002647)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mSQL (0.001222)[0m   [0mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001250)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001128)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001311)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.001165)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001213)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001205)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000515)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000340)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000788)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.988450)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.362024)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.024605)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.055272)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.293050)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.097080)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.001770)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.013263)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008202)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001516)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.179725)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001064)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.185048)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001141)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001432)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.004768)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001531)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001849)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001386)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001274)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000642)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000924)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001616)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;35;1mSQL (0.000600)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.075085)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;35;1mSQL (0.001026)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001268)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000526)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000780)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000860)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003400)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;36;1mSQL (0.001405)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001552)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.004154)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001271)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.002461)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003014)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;35;1mSQL (0.000740)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000921)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004621)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mSQL (0.000528)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000523)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001392)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001159)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;36;1mSQL (0.000694)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001254)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;36;1mSQL (0.001237)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001577)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mSQL (0.000532)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001011)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000957)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000696)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002146)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;35;1mSQL (0.001049)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001177)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000669)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000934)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000994)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002277)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000837)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001637)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000942)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000653)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003338)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;36;1mSQL (0.000716)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000919)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000624)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001994)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000963)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001754)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000658)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000690)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000900)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000947)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001337)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;35;1mSQL (0.003721)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000552)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001159)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000892)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001613)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.001113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001544)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000720)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001311)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;36;1mSQL (0.001421)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001441)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000915)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002293)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;36;1mSQL (0.000674)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001326)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000774)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002009)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000883)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000591)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000392)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.011386)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.048017)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.006583)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.055247)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.008837)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002142)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000330)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003594)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.008405)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002118)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001109)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001031)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.007110)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.003914)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001700)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002000)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001646)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001867)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001246)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001046)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001184)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000921)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000933)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;35;1mSQL (0.000652)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001104)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;35;1mSQL (0.000849)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001658)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.004189)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000493)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000978)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.008601)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000868)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;36;1mSQL (0.001312)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.001016)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000423)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001279)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000667)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000885)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;35;1mSQL (0.000544)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001154)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;35;1mSQL (0.000646)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001426)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mSQL (0.000909)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000932)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000866)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001154)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;36;1mSQL (0.001097)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;36;1mSQL (0.000557)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004421)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mSQL (0.000534)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001973)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001110)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.001078)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002410)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;35;1mSQL (0.003036)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001318)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000613)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000879)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000977)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001863)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.001145)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001609)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000754)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;36;1mSQL (0.000608)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001192)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000927)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000900)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004667)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000804)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000377)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.001012)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000919)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001338)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.001000)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000998)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001542)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000537)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000925)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.002513)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000907)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000561)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000961)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;36;1mSQL (0.000692)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001288)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000654)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002218)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003913)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003208)[0m   [0;1mROLLBACK[0m
  [4;35;1mCategory Load (0.001285)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 4) [0m
  [4;36;1mCategory Load (0.001070)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mSQL (0.013970)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.032162)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.011483)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.013099)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.108007)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002041)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000312)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.007123)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.007232)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001148)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001690)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000657)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001173)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001573)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001728)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001232)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001667)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001705)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001335)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001553)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000735)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000588)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001189)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001459)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;35;1mSQL (0.001223)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000915)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;35;1mSQL (0.000615)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001870)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000796)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000652)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000923)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000875)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001141)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.009215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000851)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000616)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001006)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000718)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001225)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;35;1mSQL (0.001078)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001257)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mSQL (0.002204)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000457)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000664)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001701)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;36;1mSQL (0.001101)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000889)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;36;1mSQL (0.000560)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004672)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mSQL (0.000524)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.007365)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000908)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001299)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;35;1mSQL (0.000847)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000882)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.006252)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000767)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001209)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.004298)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000906)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000797)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001336)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;36;1mSQL (0.000891)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000899)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001411)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000939)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001252)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.001198)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000639)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001165)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000664)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000961)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;35;1mSQL (0.003891)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002123)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001414)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.002602)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001244)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000488)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002603)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;36;1mSQL (0.001183)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000895)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000614)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.002853)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000948)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001961)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000920)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000419)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.014561)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.106857)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.072736)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.020485)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.008551)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001863)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000411)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004172)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.009242)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.002332)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000920)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002141)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000618)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001118)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000567)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001926)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.003620)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001250)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001200)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001506)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001751)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.001352)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000611)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000886)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000638)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001137)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;35;1mSQL (0.000751)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000914)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001770)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000880)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000892)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.001311)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001188)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.003397)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;36;1mSQL (0.001100)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001646)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000506)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000382)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001320)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.001165)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000901)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;35;1mSQL (0.000610)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001184)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;35;1mSQL (0.002908)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001271)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001107)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000999)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000910)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;36;1mSQL (0.000579)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001350)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;36;1mSQL (0.000808)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001251)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mSQL (0.000518)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001004)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001268)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000653)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;35;1mSQL (0.000934)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001440)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001390)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000758)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.001755)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000411)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002621)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000971)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000936)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000891)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.001559)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000997)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000628)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001984)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000906)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000671)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000898)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001169)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.003461)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000916)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000683)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001425)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000792)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001249)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.000916)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000621)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;36;1mSQL (0.001347)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000928)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000554)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001294)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;36;1mSQL (0.000883)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000909)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000619)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.005081)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000533)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000704)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000400)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.018039)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.084381)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.007215)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.035024)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.013258)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001644)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000954)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003353)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.010676)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001500)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001372)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001584)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000652)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001203)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000907)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001395)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001235)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.002333)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.002040)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001143)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001229)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000556)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000360)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001042)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000609)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000917)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 5, NULL)[0m
  [4;35;1mSQL (0.000545)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001329)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 6, NULL)[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001522)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000543)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000446)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.002223)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000713)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000901)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 8, NULL)[0m
  [4;36;1mSQL (0.001303)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001205)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 9, NULL)[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001210)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mSQL (0.000526)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000397)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000927)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000595)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001425)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 11, NULL)[0m
  [4;35;1mSQL (0.000734)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001326)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 12, NULL)[0m
  [4;35;1mSQL (0.002061)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001255)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000386)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003093)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000639)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001175)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 14, NULL)[0m
  [4;36;1mSQL (0.000643)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001295)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 15, NULL)[0m
  [4;36;1mSQL (0.001371)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001405)[0m   [0mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;36;1mSQL (0.000804)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000437)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001976)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000658)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000925)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 17, NULL)[0m
  [4;35;1mSQL (0.000547)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000706)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000986)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 18, NULL)[0m
  [4;35;1mSQL (0.000605)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.004334)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;35;1mSQL (0.000527)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000356)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001243)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001344)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 21, NULL)[0m
  [4;36;1mSQL (0.001144)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001393)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.000996)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000954)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 22, NULL)[0m
  [4;36;1mSQL (0.001427)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001196)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000514)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001826)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000899)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.000873)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001138)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 25, NULL)[0m
  [4;35;1mSQL (0.001120)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001191)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.000585)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.002655)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 26, NULL)[0m
  [4;35;1mSQL (0.001321)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002438)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;35;1mSQL (0.000755)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001068)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001218)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', NULL, NULL, NULL)[0m
  [4;36;1mSQL (0.000617)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001527)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', NULL, 29, NULL)[0m
  [4;36;1mSQL (0.000693)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000890)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000804)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001448)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', NULL, 31, NULL)[0m
  [4;36;1mSQL (0.001334)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', NULL, 30, NULL)[0m
  [4;36;1mSQL (0.000646)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001191)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mSQL (0.000949)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000305)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.016262)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.019434)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009987)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.038207)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.011845)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001897)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;36;1mSQL (0.010480)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.114271)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.009487)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014914)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.010464)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.002544)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000424)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002427)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.006500)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.001034)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000816)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000895)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.001060)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000903)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001418)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001874)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001395)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.001095)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.002508)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.012203)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.002017)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.001301)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001194)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.001415)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001890)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.002013)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003247)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.001320)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.001056)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.008104)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000917)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000588)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001273)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.001576)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001586)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001541)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.001193)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mSQL (0.002168)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.001591)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.001241)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001485)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001241)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.002118)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001543)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001886)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001475)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001427)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.000503)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000376)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001991)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000955)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001972)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000963)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001896)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001584)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.006062)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001187)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.001226)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.001518)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001253)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001841)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.001122)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.001335)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001818)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.002673)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.001685)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001224)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000374)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001079)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001259)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000993)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000912)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.000846)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001556)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.003070)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001822)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001506)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002929)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001170)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000803)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001126)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mSQL (0.001437)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.002834)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;36;1mCategory Load (0.001222)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001181)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001524)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.003148)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000538)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000362)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000920)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000665)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000905)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001355)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000868)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001476)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001457)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001413)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002538)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.001549)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001195)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000595)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.004238)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mSQL (0.001146)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001928)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001341)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.002207)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001606)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002363)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000622)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000380)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001361)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000947)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.000854)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001113)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001190)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.001117)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002412)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.001384)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001151)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001184)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000529)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000465)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001282)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001549)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002053)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.001287)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000621)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001712)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001765)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.000871)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.000555)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002032)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001663)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001407)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000958)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002512)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001149)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001492)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.002923)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001101)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000802)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.003234)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.001166)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001754)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001793)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000509)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000360)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001173)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000746)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.001471)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.001313)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001285)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001975)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000867)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.001076)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001294)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001760)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001276)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001070)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001783)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001537)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001496)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.004500)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.001183)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000799)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000889)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001381)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001433)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.003020)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001526)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000509)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000923)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.000560)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001690)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.002955)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000902)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000553)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001392)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000928)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000935)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000673)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001765)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001311)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001267)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001166)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.002400)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001485)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.003017)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001609)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mSQL (0.001760)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 37) [0m
  [4;35;1mCategory Update (0.001547)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;36;1mCategory Load (0.001121)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;35;1mCategory Load (0.001079)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.018996)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mSQL (0.002700)[0m   [0mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001209)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001225)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001214)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.003898)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.002045)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001256)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000522)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000327)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000809)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.292986)[0m   [0;1mDROP TABLE mixins[0m
  [4;35;1mSQL (0.194467)[0m   [0mCREATE TABLE mixins ("id" serial primary key, "parent_id" integer, "pos" integer, "created_at" timestamp, "updated_at" timestamp, "lft" integer, "rgt" integer, "root_id" integer, "type" character varying(255)) [0m
  [4;36;1mSQL (0.014085)[0m   [0;1mDROP TABLE categories[0m
  [4;35;1mSQL (0.014753)[0m   [0mCREATE TABLE categories ("id" serial primary key, "parent_id" integer, "lft" integer, "rgt" integer, "name" character varying(255)) [0m
  [4;36;1mSQL (0.000000)[0m   [0;1mPGError: ERROR: relation "schema_info" already exists
: CREATE TABLE schema_info (version integer)[0m
  [4;35;1mSQL (0.067873)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'schema_info'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001836)[0m   [0;1mUPDATE schema_info SET version = 0[0m
  [4;35;1mSQL (0.000352)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003803)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'categories'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.005922)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'categories'::regclass
[0m
  [4;36;1mCategory Create (0.000824)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.001858)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001203)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 2, 5)[0m
  [4;35;1mSQL (0.000949)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001027)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 3, 4)[0m
  [4;35;1mSQL (0.001390)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001738)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;35;1mCategory Load (0.001215)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Load (0.001751)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.001275)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 3) [0m
  [4;36;1mCategory Load (0.018046)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 2) [0m
  [4;35;1mCategory Load (0.001867)[0m   [0mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;36;1mCategory Update (0.003883)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001775)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 3, 6)[0m
  [4;36;1mSQL (0.000671)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001641)[0m   [0mSELECT * FROM categories WHERE (categories.id = 2) LIMIT 1[0m
  [4;36;1mCategory Load (0.004523)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 3) LIMIT 1[0m
  [4;35;1mCategory Load (0.001932)[0m   [0mSELECT * FROM categories WHERE (categories.id = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.001502)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.000827)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000465)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.003163)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;36;1mSQL (0.000999)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000898)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 6, 5)[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Create (0.000903)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 7, 4)[0m
  [4;36;1mSQL (0.000712)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001457)[0m   [0mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;36;1mCategory Load (0.002146)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Load (0.001392)[0m   [0mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.001333)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 7) [0m
  [4;35;1mCategory Load (0.006289)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 6) [0m
  [4;36;1mSQL (0.002309)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 6) [0m
  [4;35;1mCategory Update (0.002093)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 6[0m
  [4;36;1mCategory Load (0.003157)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;35;1mCategory Update (0.001701)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.003392)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 7, 6)[0m
  [4;35;1mSQL (0.000955)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001756)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 6) LIMIT 1[0m
  [4;35;1mCategory Load (0.001814)[0m   [0mSELECT * FROM categories WHERE (categories.id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.001139)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 8) LIMIT 1[0m
  [4;35;1mCategory Load (0.001253)[0m   [0mSELECT * FROM categories WHERE (categories.id = 9) LIMIT 1[0m
  [4;36;1mSQL (0.002875)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000545)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001406)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.003307)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 10, 5)[0m
  [4;35;1mSQL (0.001908)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000887)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 11, 4)[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001222)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001798)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.003096)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.001145)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 11) [0m
  [4;36;1mCategory Load (0.002207)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;35;1mCategory Update (0.037507)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001394)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 11, 6)[0m
  [4;35;1mSQL (0.001388)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mSQL (0.001476)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 13) [0m
  [4;35;1mCategory Update (0.003111)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 11 WHERE id = 13[0m
  [4;36;1mCategory Load (0.001219)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 10) LIMIT 1[0m
  [4;35;1mCategory Load (0.001722)[0m   [0mSELECT * FROM categories WHERE (categories.id = 11) LIMIT 1[0m
  [4;36;1mCategory Load (0.002362)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 12) LIMIT 1[0m
  [4;35;1mCategory Load (0.003152)[0m   [0mSELECT * FROM categories WHERE (categories.id = 13) LIMIT 1[0m
  [4;36;1mSQL (0.000688)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000683)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001289)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000734)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000932)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 14, 5)[0m
  [4;35;1mSQL (0.000896)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001184)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 15, 4)[0m
  [4;35;1mSQL (0.001757)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.002009)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001244)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.016171)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001525)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 15) [0m
  [4;36;1mCategory Update (0.002353)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.017008)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 15, 6)[0m
  [4;36;1mSQL (0.000781)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001475)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 14) [0m
  [4;36;1mSQL (0.001503)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 17) [0m
  [4;35;1mCategory Update (0.001500)[0m   [0mUPDATE categories SET "name" = 'child1b', "parent_id" = 15 WHERE id = 17[0m
  [4;36;1mCategory Load (0.002412)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 14) LIMIT 1[0m
  [4;35;1mCategory Load (0.001262)[0m   [0mSELECT * FROM categories WHERE (categories.id = 15) LIMIT 1[0m
  [4;36;1mCategory Load (0.001208)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 16) LIMIT 1[0m
  [4;35;1mCategory Load (0.001268)[0m   [0mSELECT * FROM categories WHERE (categories.id = 17) LIMIT 1[0m
  [4;36;1mSQL (0.000497)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000364)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000907)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 6)[0m
  [4;35;1mSQL (0.000749)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001092)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 18, 5)[0m
  [4;35;1mSQL (0.000616)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000874)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 19, 4)[0m
  [4;35;1mSQL (0.000850)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001637)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001606)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001589)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.002551)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 19) [0m
  [4;36;1mCategory Update (0.001910)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.000893)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b_xx', 5, 19, 6)[0m
  [4;36;1mSQL (0.000555)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.002169)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 18) [0m
  [4;36;1mSQL (0.001890)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 18) [0m
  [4;35;1mCategory Update (0.001218)[0m   [0mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 18[0m
  [4;36;1mCategory Load (0.001616)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 18) LIMIT 1[0m
  [4;35;1mCategory Load (0.001515)[0m   [0mSELECT * FROM categories WHERE (categories.id = 19) LIMIT 1[0m
  [4;36;1mCategory Load (0.001634)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 20) LIMIT 1[0m
  [4;35;1mCategory Load (0.001700)[0m   [0mSELECT * FROM categories WHERE (categories.id = 21) LIMIT 1[0m
  [4;36;1mSQL (0.000553)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000439)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.001473)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 8)[0m
  [4;35;1mSQL (0.001209)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001562)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 22, 7)[0m
  [4;35;1mSQL (0.001251)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.000936)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 23, 4)[0m
  [4;35;1mSQL (0.001038)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001051)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 23, 6)[0m
  [4;35;1mSQL (0.000671)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001990)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 22) LIMIT 1[0m
  [4;35;1mCategory Load (0.004872)[0m   [0mSELECT * FROM categories WHERE (categories.id = 23) LIMIT 1[0m
  [4;36;1mCategory Load (0.001446)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 24) LIMIT 1[0m
  [4;35;1mCategory Load (0.001737)[0m   [0mSELECT * FROM categories WHERE (categories.id = 25) LIMIT 1[0m
  [4;36;1mSQL (0.000737)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000441)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.002153)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;35;1mSQL (0.001254)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001391)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Update (0.002442)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;36;1mCategory Create (0.000884)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 26, 3)[0m
  [4;35;1mSQL (0.000608)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001846)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.002357)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;36;1mCategory Create (0.001129)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 27, 4)[0m
  [4;35;1mSQL (0.001188)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001306)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;35;1mCategory Update (0.001750)[0m   [0mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;36;1mCategory Create (0.001158)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 27, 6)[0m
  [4;35;1mSQL (0.000688)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001286)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.001295)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001482)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 28) LIMIT 1[0m
  [4;35;1mCategory Load (0.001760)[0m   [0mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;36;1mCategory Load (0.097095)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 28) [0m
  [4;35;1mCategory Delete all (0.001068)[0m   [0mDELETE FROM categories WHERE (parent_id = 28) [0m
  [4;36;1mCategory Destroy (0.000818)[0m   [0;1m DELETE FROM categories
 WHERE id = 28
[0m
  [4;35;1mCategory Update (0.012314)[0m   [0mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;36;1mCategory Load (0.002585)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 26) LIMIT 1[0m
  [4;35;1mCategory Load (0.003970)[0m   [0mSELECT * FROM categories WHERE (categories.id = 27) LIMIT 1[0m
  [4;36;1mCategory Load (0.001562)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 29) LIMIT 1[0m
  [4;35;1mSQL (0.000853)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000394)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Create (0.001194)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 2)[0m
  [4;36;1mSQL (0.000942)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001313)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Update (0.002672)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 2 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 2 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 2) [0m
  [4;35;1mCategory Create (0.001409)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 30, 3)[0m
  [4;36;1mSQL (0.000598)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.012601)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001888)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 3 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 3 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 3) [0m
  [4;35;1mCategory Create (0.000888)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 31, 4)[0m
  [4;36;1mSQL (0.002109)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001415)[0m   [0mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;36;1mCategory Update (0.001836)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 5 THEN 2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 5 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt >= 5) [0m
  [4;35;1mCategory Create (0.001684)[0m   [0mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 5, 31, 6)[0m
  [4;36;1mSQL (0.001285)[0m   [0;1mSELECT currval('public.categories_id_seq')[0m
  [4;35;1mCategory Load (0.001890)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001573)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001456)[0m   [0mSELECT * FROM categories WHERE (categories.id = 32) LIMIT 1[0m
  [4;36;1mCategory Load (0.004108)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;35;1mCategory Load (0.002141)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 32) [0m
  [4;36;1mCategory Delete all (0.000908)[0m   [0;1mDELETE FROM categories WHERE (parent_id = 32) [0m
  [4;35;1mCategory Destroy (0.000794)[0m   [0m DELETE FROM categories
 WHERE id = 32
[0m
  [4;36;1mCategory Update (0.001859)[0m   [0;1mUPDATE categories SET lft = lft - (CASE WHEN lft > 4 THEN 2 ELSE 0 END), rgt = rgt - (CASE WHEN rgt > 4 THEN 2 ELSE 0 END) WHERE (1 = 1 AND rgt > 4) [0m
  [4;35;1mCategory Load (0.001578)[0m   [0mSELECT * FROM categories WHERE (categories.id = 30) LIMIT 1[0m
  [4;36;1mCategory Load (0.001622)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 31) LIMIT 1[0m
  [4;35;1mCategory Load (0.001531)[0m   [0mSELECT * FROM categories WHERE (categories.id = 33) LIMIT 1[0m
  [4;36;1mSQL (0.000806)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000722)[0m   [0mBEGIN[0m
  [4;36;1mCategory Create (0.000918)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('root', 1, NULL, 10)[0m
  [4;35;1mSQL (0.001160)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001205)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1', 2, 34, 9)[0m
  [4;35;1mSQL (0.001049)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.001391)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1a', 3, 35, 6)[0m
  [4;35;1mSQL (0.000568)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.009929)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child2', 4, 36, 5)[0m
  [4;35;1mSQL (0.000765)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Create (0.261645)[0m   [0;1mINSERT INTO categories ("name", "lft", "parent_id", "rgt") VALUES('child1b', 7, 35, 8)[0m
  [4;35;1mSQL (0.000834)[0m   [0mSELECT currval('public.categories_id_seq')[0m
  [4;36;1mCategory Load (0.001954)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;35;1mCategory Load (0.001676)[0m   [0mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;36;1mCategory Load (0.001628)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;35;1mCategory Load (0.001466)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mCategory Load (0.001224)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001810)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001733)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 38) [0m
  [4;35;1mCategory Load (0.001160)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 37) [0m
  [4;36;1mSQL (0.001055)[0m   [0;1mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 37) [0m
  [4;35;1mCategory Update (0.001917)[0m   [0mUPDATE categories SET "name" = 'child2', "parent_id" = 38 WHERE id = 37[0m
  [4;36;1mCategory Load (0.001227)[0m   [0;1mSELECT * FROM categories WHERE (categories.parent_id = 35) [0m
  [4;35;1mCategory Load (0.001419)[0m   [0mSELECT * FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.003260)[0m   [0;1mUPDATE categories SET lft = lft + (CASE WHEN lft >= 4 AND lft <= 5 THEN 2 WHEN lft >= 6 AND lft <= 7 THEN -2 ELSE 0 END), rgt = rgt + (CASE WHEN rgt >= 4 AND rgt <= 5 THEN 2 WHEN rgt >= 6 AND rgt <= 7 THEN -2 ELSE 0 END) WHERE (1 = 1 AND ((rgt >= 4 AND lft <= 5) OR (rgt >= 6 AND lft <= 7))) [0m
  [4;35;1mSQL (0.001883)[0m   [0mSELECT count(*) AS count_all FROM categories WHERE (categories.parent_id = 34) [0m
  [4;36;1mCategory Update (0.001254)[0m   [0;1mUPDATE categories SET "name" = 'root', "parent_id" = NULL WHERE id = 34[0m
  [4;35;1mCategory Load (0.001140)[0m   [0mSELECT * FROM categories WHERE (categories.id = 34) LIMIT 1[0m
  [4;36;1mCategory Load (0.001185)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 35) LIMIT 1[0m
  [4;35;1mCategory Load (0.002371)[0m   [0mSELECT * FROM categories WHERE (categories.id = 36) LIMIT 1[0m
  [4;36;1mCategory Load (0.001577)[0m   [0;1mSELECT * FROM categories WHERE (categories.id = 38) LIMIT 1[0m
  [4;35;1mCategory Load (0.001683)[0m   [0mSELECT * FROM categories WHERE (categories.id = 37) LIMIT 1[0m
  [4;36;1mSQL (0.000729)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000311)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000321)[0m   [0;1mROLLBACK[0m
